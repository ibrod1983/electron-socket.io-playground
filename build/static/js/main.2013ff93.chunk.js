(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{225:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23),C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(24),C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6__),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(40),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7__),_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(131),_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_8__),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(94),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9__),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(18),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__),_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(132),_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_11__),_material_ui_core_FormHelperText__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(133),_material_ui_core_FormHelperText__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_material_ui_core_FormHelperText__WEBPACK_IMPORTED_MODULE_12__),_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(134),_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_13__),_StringMessage__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(226),_NumberMessage__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(227),_ObjectMessage__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(228),styles=function(e){return{formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit}}},SendMessage=function(_React$Component){function SendMessage(){var _getPrototypeOf2,_this;Object(C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,SendMessage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,(_getPrototypeOf2=Object(C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(SendMessage)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={event:"",message:"",tab:"String",error:!1},_this.onEventChange=function(e){var t=e.target.value;_this.setState({event:t})},_this.onMessageChange=function(e){var t=!1;"Object"===_this.state.tab&&(_this.isObject(e)||(t=!0));_this.setState({message:e,error:t})},_this.isObject=function(value){var evalResult;try{return eval("evalResult = ".concat(value)),"object"===typeof evalResult&&evalResult}catch(e){return!1}},_this.onSubmit=function(e){e.preventDefault();var value=_this.state.message;switch(_this.state.tab){case"Number":value=parseInt(value);break;case"Object":var evalResult;eval("evalResult = ".concat(value)),value=evalResult}_this.props.onSubmit(_this.state.event,value)},_this.handleTabChange=function(e){_this.setState({tab:e.target.value,message:"",error:!1})},_this}return Object(C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(SendMessage,_React$Component),Object(C_Users_nesber_Desktop_electron_chat_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(SendMessage,[{key:"render",value:function(){var e=this.props.classes;return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("form",{className:e.root,onSubmit:this.onSubmit,autoComplete:"off"},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_6___default.a,{label:"Event name",required:!0,onChange:this.onEventChange,value:this.state.event,type:"text",fullWidth:!0,name:"event",margin:"dense",variant:"outlined"}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_11___default.a,{className:e.formControl},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_8___default.a,{htmlFor:"age-simple"},"Format"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_13___default.a,{value:this.state.tab,onChange:this.handleTabChange,inputProps:{name:"age",id:"age-simple"}},react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9___default.a,{value:"String"},"String"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9___default.a,{value:"Number"},"Number"),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9___default.a,{value:"Object"},"Object")),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_FormHelperText__WEBPACK_IMPORTED_MODULE_12___default.a,null,"Select message type")),"String"===this.state.tab&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_StringMessage__WEBPACK_IMPORTED_MODULE_14__.a,{onChange:this.onMessageChange,value:this.state.message}),"Number"===this.state.tab&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_NumberMessage__WEBPACK_IMPORTED_MODULE_15__.a,{onChange:this.onMessageChange,value:this.state.message}),"Object"===this.state.tab&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_ObjectMessage__WEBPACK_IMPORTED_MODULE_16__.a,{error:this.state.error,onChange:this.onMessageChange,value:this.state.message}),react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_7___default.a,{disabled:!this.props.connected||this.state.error,type:"submit",variant:"contained",color:"primary"},"Send"))}}]),SendMessage}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);__webpack_exports__.a=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_10__.withStyles)(styles)(SendMessage)},226:function(e,t,n){"use strict";var a=n(0),r=n.n(a),_=n(30),s=n.n(_);t.a=function(e){return r.a.createElement(s.a,{label:"Message",multiline:!0,rows:10,onChange:function(t){e.onChange(t.target.value)},value:e.value,type:"text",fullWidth:!0,name:"message",margin:"dense",variant:"outlined"})}},227:function(e,t,n){"use strict";var a=n(0),r=n.n(a),_=n(30),s=n.n(_);t.a=function(e){return r.a.createElement(s.a,{label:"Message",required:!0,onChange:function(t){e.onChange(t.target.value)},value:e.value,type:"number",fullWidth:!0,name:"message",margin:"dense",variant:"outlined"})}},228:function(e,t,n){"use strict";var a=n(0),r=n.n(a),_=n(30),s=n.n(_);t.a=function(e){return r.a.createElement(s.a,{label:"Object message",required:!0,error:e.error,multiline:!0,rows:10,onChange:function(t){e.onChange(t.target.value)},value:e.value,type:"text",fullWidth:!0,name:"message",margin:"dense",variant:"outlined"})}},235:function(e,t,n){e.exports=n(503)},409:function(e,t,n){},481:function(e,t){},503:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),_=n(15),s=n.n(_),o=n(233),c=n(19),i=n(33),l=n(22),u=n(23),m=n(25),E=n(24),d=n(91),g=n(26),h=n(234),p=n(211),b=n.n(p),O=n(18),v=n(5),f=n.n(v),D=n(206),M=n.n(D),C=n(209),P=n.n(C),y=n(210),S=n.n(y),T=n(129),k=n.n(T),R=n(49),A=n.n(R),I=n(212),B=n.n(I),w=n(130),L=n.n(w),j=n(208),U=n.n(j),W={success:M.a,warning:U.a,error:P.a,info:S.a};var K=Object(O.withStyles)(function(e){return{success:{backgroundColor:e.palette.success},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:k.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,n=e.className,a=e.message,_=e.onClose,s=e.variant,o=Object(h.a)(e,["classes","className","message","onClose","variant"]),c=W[s];return r.a.createElement(L.a,Object.assign({className:f()(t[s],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(c,{className:f()(t.icon,t.iconVariant)}),a),action:[r.a.createElement(A.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:_},r.a.createElement(b.a,{className:t.icon}))]},o))}),N=Object(O.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(function(e){var t=function(t,n){e.handleAlertClose(t,n)};return r.a.createElement(B.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:4e3,onClose:t},r.a.createElement(K,{onClose:t,variant:e.nature||"info",message:r.a.createElement("span",{id:"message-id"},e.content)}))}),q=n(20),x=n.n(q),F=n(231),H=n.n(F),z=n(230),J=n.n(z),$=n(232),V=n.n($),G=n(93),Y=n.n(G),Z=n(213),Q=n(215),X=n.n(Q),ee=n(214),te=n.n(ee),ne=n(216),ae=n.n(ne),re=n(217),_e=n.n(re),se=n(92),oe=n(16),ce=Object(oe.j)({alertOpen:!1,alertNature:"error",alertContent:"",connectionStatus:"disconnected"}),ie=window.state=ce,le=function(e,t){"clickaway"!==t&&(ce.alertOpen=!1)},ue=function(e,t){Object.assign(ce,{alertOpen:!0,alertNature:e,alertContent:t})},me=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),_=0;_<a;_++)r[_]=arguments[_];return(n=Object(m.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).getType=function(e){switch(typeof e){case"string":return"String";case"object":return Array.isArray(e)?"Array":"Object";case"number":return"Number"}},n.onDataCopy=function(e){var t=document.createElement("textarea");if("object"===typeof e)try{e=JSON.stringify(e)}catch(a){return ue("error","Unable to copy")}t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),ue("success","Copied to clipboard!")},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.owner;return console.log("item rendering!",this.props),r.a.createElement(te.a,null,r.a.createElement(X.a,{style:{padding:"15px"}},r.a.createElement(x.a,{style:{float:"right"},color:"textSecondary",gutterBottom:!0},this.props.time),r.a.createElement(x.a,{color:"primary",gutterBottom:!0},t?"Sent":"Received"," event: ",this.props.eventName),r.a.createElement(x.a,{color:"textSecondary",gutterBottom:!0},"Type: ",this.getType(this.props.data)),r.a.createElement(se.ObjectInspector,{theme:Object(i.a)({},se.chromeLight,{TREENODE_FONT_SIZE:"18px",TREENODE_FONT_FAMILY:"roboto,helvetica,arial"}),data:this.props.data}),r.a.createElement("div",{style:{float:"right",position:"relative",left:"6px",bottom:"49px"}},r.a.createElement(Y.a,{title:"Copy to clipboard"},r.a.createElement(A.a,{onClick:function(){e.onDataCopy(e.props.data)}},r.a.createElement(ae.a,{fontSize:"small"}))),t&&r.a.createElement("div",{style:{textAlign:"center"}},"  ",r.a.createElement(_e.a,{style:{color:"success"===this.props.status?"green":"grey"}})))))}}]),t}(r.a.PureComponent),Ee=Object(O.withStyles)(function(e){return{success:{color:e.palette.success},pending:{color:e.palette.pending}}})(me),de=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),_=0;_<a;_++)r[_]=arguments[_];return(n=Object(m.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).scrollToBottom=function(){n.messagesDiv.scrollTop=n.messagesDiv.scrollHeight},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.messagesDiv=document.querySelector("#messages"),this.messagesList=document.querySelector("#messages_list")}},{key:"componentDidUpdate",value:function(e){console.log("prev props",e),console.log("current props",this.props),this.props.messages.length>0&&e.messages.length!==this.props.messages.length&&this.shouldScrollDown(this.props.messages[this.props.messages.length-1])&&this.scrollToBottom()}},{key:"shouldScrollDown",value:function(e){if(e.owner)return!0;if(this.messagesList.childNodes.length>1){var t=this.messagesDiv.scrollHeight;if(this.messagesDiv.clientHeight+this.messagesDiv.scrollTop+this.messagesList.childNodes[this.messagesList.childNodes.length-1].offsetHeight+this.messagesList.childNodes[this.messagesList.childNodes.length-2].offsetHeight>=t)return!0}return!1}},{key:"render",value:function(){return r.a.createElement("ul",{id:"messages_list",style:{listStyle:"none",paddingLeft:"0"}},this.props.messages.map(function(e,t){return r.a.createElement("li",{key:e.id,style:{display:"block",width:"100%",float:"left",marginBottom:"15px",marginTop:"15px"}},r.a.createElement("div",{style:{float:e.owner?"left":"right",width:"40%"}},r.a.createElement(Ee,e)))}))}}]),t}(r.a.Component),ge=n(218),he=n.n(ge),pe=n(219),be=n.n(pe),Oe=Object(O.withStyles)(function(e){return{chip:{}}})(function(e){var t=e.classes;return r.a.createElement(he.a,{label:e.name,className:t.chip,color:"primary",icon:r.a.createElement(be.a,null),onDelete:e.onDelete,variant:"outlined"})}),ve={marginBottom:"10px",marginTop:"10px"},fe=function(e){return r.a.createElement("div",null,r.a.createElement(x.a,{variant:"subtitle1",gutterBottom:!0},"Listening to events:"),e.events.map(function(t){return r.a.createElement("div",{style:ve},r.a.createElement(Oe,{onDelete:function(){e.onEventDelete(t.name)},name:t.name}))}))},De=n(135),Me=n.n(De),Ce=(n(409),n(136)),Pe=n.n(Ce),ye=n(223),Se=n.n(ye),Te=n(224),ke=n.n(Te),Re=n(40),Ae=n.n(Re),Ie=n(221),Be=n.n(Ie),we=n(222),Le=n.n(we),je=n(39),Ue=n(220),We=n.n(Ue);var Ke,Ne=function(e){return r.a.createElement("div",null,r.a.createElement(We.a,{size:21,color:"inherit"}))},qe=n(68),xe=n.n(qe),Fe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,_=new Array(a),s=0;s<a;s++)_[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(_)))).state={address:"localhost:3001"},n.onChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(c.a)({},t,a))},n.onSubmit=function(e){switch(e.preventDefault(),n.props.connectionStatus){case"connected":case"reconnecting":case"connecting":n.onDisconnectSubmit();break;case"disconnected":n.onConnectSubmit()}},n.onConnectSubmit=function(e){n.props.onConnectSubmit(n.state.address)},n.onDisconnectSubmit=function(e){n.props.onDisconnectSubmit()},n.renderButton=function(){switch(n.props.connectionStatus){case"connected":return r.a.createElement(Ae.a,{type:"submit",color:"inherit"},"Disconnect");case"reconnecting":case"connecting":return r.a.createElement(Ae.a,{type:"submit",color:"inherit"},"Cancel");case"disconnected":return r.a.createElement(Ae.a,{type:"submit",color:"inherit"},"Connect")}},n.renderStatus=function(){switch(n.props.connectionStatus){case"reconnecting":case"connecting":return r.a.createElement(Ne,null);case"disconnected":return r.a.createElement(Be.a,null);case"connected":return r.a.createElement(Le.a,null);default:return""}},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("form",{autoComplete:"off",onSubmit:this.onSubmit,className:e.root},r.a.createElement(Se.a,{position:"static"},r.a.createElement(ke.a,null,r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},this.renderStatus()),r.a.createElement(xe.a,{name:"address",value:this.state.address,onChange:this.onChange,placeholder:"localhost:3001",classes:{root:e.inputRoot,input:e.inputInput}})),this.renderButton())))}}]),t}(r.a.Component),He=Object(O.withStyles)(function(e){return{root:{flexGrow:1},search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(je.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(je.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(c.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}})(Fe),ze=n(30),Je=n.n(ze),$e=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),_=0;_<a;_++)r[_]=arguments[_];return(n=Object(m.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={event:""},n.onChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(c.a)({},t,a))},n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state.event)},n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(Je.a,{label:"Event name",required:!0,onChange:this.onChange,value:this.state.event,type:"text",fullWidth:!0,name:"event",margin:"dense",variant:"outlined"}),r.a.createElement(Ae.a,{disabled:!this.props.connected,type:"submit",variant:"contained",color:"primary"},"Register"))}}]),t}(r.a.Component),Ve=n(225),Ge=n(95),Ye=n(229),Ze=n.n(Ye),Qe=Object(O.createMuiTheme)({palette:{primary:Ge.blue,success:Ge.green[600],pending:Ge.grey}}),Xe=Object(Z.a)(function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(m.a)(this,Object(E.a)(t).call(this,e))).state={address:"",eventName:"",messages:[],registeredEvents:{},anonymousEvents:{},allEventsChecked:!1},n.connect=function(e){if(console.log("connecting"),ie.connectionStatus="connecting",Ke&&Ke.disconnect(),Ke=window.socket=Ze()(e),n.originalOnevent=Ke.onevent,Ke.on("connect",function(){console.log("connected!"),ie.connectionStatus="connected"}),Ke.on("disconnect",function(e){console.log("reason",e),"io server disconnect"===e&&Ke.disconnect()}),Ke.on("connect_error",function(e){console.log("Error connecting!",ie),ue("error","Error connecting to the server")}),Ke.on("reconnect",function(e){console.log("reconnected"),ie.alertOpen=!1,ie.connectionStatus="connected"}),Ke.on("reconnecting",function(e){console.log("reconnecting"),ie.connectionStatus="reconnecting"}),Object.keys(n.state.registeredEvents).length>0){console.log("re-registering events");for(var t=Object.keys(n.state.registeredEvents),a=0;a<t.length;a++){var r=t[a];n.registerEvent(r)}}},n.registerEvent=function(e){n.registerEventCallback(e),n.setState(function(t){return{registeredEvents:Object(i.a)({},t.registeredEvents,Object(c.a)({},e,{name:e}))}})},n.registerEventCallback=function(e){Ke&&(Ke.off(e),Ke.on(e,function(t){var a=Me()();console.log("on:",e),n.addMessageToState(a,e,t,!1)}))},n.registerAnonymousEvent=function(e){console.log("registering anonymous event:",e),n.registerEventCallback(e),n.setState(function(t){return{anonymousEvents:Object(i.a)({},t.anonymousEvents,Object(c.a)({},e,{name:e}))}})},n.unregisterAnonymousEvents=function(){for(var e in n.state.anonymousEvents)n.state.registeredEvents.hasOwnProperty(e)||Ke.off(e);n.setState(function(e){return{anonymousEvents:{}}})},n.onMessagesDelete=function(){n.setState(function(e){return Object(i.a)({},e,{messages:[]})})},n.onConnectSubmit=function(e){n.connect(e)},n.onDisconnectSubmit=function(){console.log("disconnected manually"),Ke.disconnect(),ie.connectionStatus="disconnected"},n.onMessageSubmit=function(e,t){var a=Me()();n.addMessageToState(a,e,t,!0),n.sendMessageToServer(a,e,t)},n.addMessageToState=function(e,t,a,r){var _=n.getTime();n.setState(function(n,s){return Object(i.a)({},n,{messages:[].concat(Object(o.a)(n.messages),[{id:e,eventName:t,time:_,data:a,owner:r,status:"pending"}])})})},n.sendMessageToServer=function(e,t,a){Ke.emit(t,a,function(t){console.log("data from callback",t),n.changeMessage(e,"status","success")})},n.changeMessage=function(e,t,a){n.setState(function(n){return{messages:n.messages.map(function(n){return n.id===e?Object(i.a)({},n,Object(c.a)({},t,a)):n})}})},n.onChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(c.a)({},t,a))},n.onEventSubmit=function(e){console.log(e),n.registerEvent(e)},n.onEventDelete=function(e){Ke.off(e);var t=Object(i.a)({},n.state.registeredEvents);delete t[e],n.setState({registeredEvents:t})},n.listenToAllEvents=function(e){var t=Object(d.a)(n);e?Ke.onevent=function(e){var n=e.data[0],a=e.data[1];t.registerAnonymousEvent(n,a),t.originalOnevent.call(this,e)}:(Ke.onevent=t.originalOnevent,t.unregisterAnonymousEvents())},n.handleAllEventsCheck=function(e){return function(t){n.setState(Object(c.a)({},e,t.target.checked)),n.listenToAllEvents(t.target.checked)}},n.getTime=function(){var e=n.getMoment();return Pe()(1e3*e).format("HH:mm")},n.getMoment=function(){return Pe()().unix()},n.handleAlertClose=function(e,t){le(e,t)},n.messages=r.a.createRef(),n}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(O.MuiThemeProvider,{theme:Qe},r.a.createElement("div",{id:"wrapper"},r.a.createElement(He,{connectionStatus:ie.connectionStatus,onDisconnectSubmit:this.onDisconnectSubmit,onConnectSubmit:this.onConnectSubmit}),r.a.createElement("div",{id:"main"},r.a.createElement("div",{className:"special_scroll",id:"panel"},r.a.createElement("div",{id:"send_messages"},r.a.createElement(x.a,{gutterBottom:!0,variant:"h6"},"Send messages"),r.a.createElement(Ve.a,{connected:"connected"===ie.connectionStatus,onSubmit:this.onMessageSubmit})),r.a.createElement("div",{id:"events"},r.a.createElement(x.a,{gutterBottom:!0,variant:"h6"},"Register events"),r.a.createElement(J.a,{control:r.a.createElement(H.a,{disabled:"connected"!==ie.connectionStatus,checked:this.state.handleAllEventsCheck,onChange:this.handleAllEventsCheck("allEventsChecked"),value:"allEventsChecked",color:"primary"}),label:"Listen to all incoming events"}),r.a.createElement($e,{connected:"connected"===ie.connectionStatus,onSubmit:this.onEventSubmit}),Object.keys(this.state.registeredEvents).length>0&&r.a.createElement("div",{id:"registered_events"},r.a.createElement(fe,{onEventDelete:this.onEventDelete,events:Object.values(this.state.registeredEvents)})))),r.a.createElement("div",{className:"special_scroll",id:"messages"},r.a.createElement(x.a,{variant:"h6",gutterBottom:!0},"Messages sent/received",this.state.messages.length>0&&r.a.createElement("div",{style:{float:"right"}},r.a.createElement(Y.a,{title:"Delete all messages"},r.a.createElement(A.a,{onClick:this.onMessagesDelete,"aria-label":"Delete"},r.a.createElement(V.a,{fontSize:"small",color:"secondary"}))))),r.a.createElement(de,{messages:this.state.messages}),r.a.createElement("div",{style:{float:"left",clear:"both"},id:"dummy"})))),r.a.createElement(N,{nature:ie.alertNature,handleAlertClose:this.handleAlertClose,open:ie.alertOpen,content:ie.alertContent}))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[235,1,2]]]);
//# sourceMappingURL=main.2013ff93.chunk.js.map