{"version":3,"sources":["Utilities/RemovableTab.js","App.js","Alert.js","Header.js","Loader.js","AddEvent.js","MessageSending/SendMessage.js","websocket/SocketIO.js","websocket/NativeSocket.js","MessageSending/StringMessage.js","MessageSending/NumberMessage.js","MessageSending/FileMessage.js","MessageSending/BooleanMessage.js","MessageSending/SendMessageForm.js","Message.js","Messages.js","Event.js","RegisteredEvents.js","global.js","serviceWorker.js","index.js","MessageSending/ObjectMessage.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_Tab__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_icons_Clear__WEBPACK_IMPORTED_MODULE_3__","_material_ui_icons_Clear__WEBPACK_IMPORTED_MODULE_3___default","StyledTab","withStyles","root","textTransform","minHeight","minWidth","Tab","StyledClearIcon","fontSize","position","top","right","ClearIcon","RemovableTab","props","a","createElement","Object","assign","onClick","e","click","label","icon","showIcon","stopPropagation","onClose","theme","createMuiTheme","palette","primary","blue","success","green","pending","grey","observer","_temp","_Component","App","_this","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","getActiveInstance","console","log","state","instances","filter","instance","id","activeInstance","addInstance","generateInstance","setState","concat","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","address","uuid","socket","configString","messages","args","message","error","type","useCallback","activeArg","eventName","connectionType","registeredEvents","anonymousEvents","allEventsChecked","connectionStatus","createConfigObjectFromString","str","evalResult","eval","onHeaderValueChange","name","val","instanceId","_this$getInstanceSlic","getInstanceSlice","connect","_this$getInstanceSlic2","parsedConfig","disconnect","NativeSocket","SocketIO","on","data","addMessageToState","_this$getInstanceSlic3","reason","createAlertAction","getInstanceBySocketId","disconnectManually","_this$getInstanceSlic4","attemptNumber","_this$getInstanceSlic5","store","alertOpen","_this$getInstanceSlic6","repeatEventRegistration","onConnectSubmit","config","validateAddress","startsWith","onDisconnectSubmit","onConnectionTypeChange","_this$getInstanceSlic7","keys","length","_arr","_i","event","registerEvent","listenToAllEvents","_this$getInstanceSlic8","registerEventToSocket","off","arg1","arg2","arg3","_len","arguments","Array","_key","lastArg","isFunction","index","indexOf","splice","owner","status","messageId","_this$getInstanceSlic9","time","getTime","forEach","ins","registerAnonymousEvent","unregisterAnonymousEvents","_this$getInstanceSlic11","_this$getInstanceSlic12","hasOwnProperty","onMessagesDelete","_this$getInstanceSlic13","_this$getInstanceSlic14","onMessageSubmit","callback","createAcknowledgementHandler","sendMessageToServer","onMessageComponentPropChange","newStateObj","_this$getInstanceSlic16","prop","onMessageFail","changeMessage","timeoutId","setTimeout","doesInstanceExist","callbackData","clearTimeout","send","onMessageResend","obj","_this$getInstanceSlic18","map","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","onEventSubmit","onEventDelete","_this$getInstanceSlic19","getSocketByInstanceId","socketId","handleAllEventsCheck","_this$getInstanceSlic20","checked","target","unix","getMoment","moment","format","functionToCheck","toString","handleAlertClose","handleAlertCloseAction","changeActiveInstance","createNewTab","destroyInstance","_this$getInstanceSlic21","newIndex","tabIndex","newInstances","lastInstance","getTabAddress","slice","onScrollToBottom","onScrollToTop","instance0","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","value","_this2","_this$getInstanceSlic22","activeInstanceId","firstInstance","react__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_26__","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_15___default","color","_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_14___default","indicatorColor","textColor","onChange","handleChange","_Utilities_RemovableTab__WEBPACK_IMPORTED_MODULE_16__","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_9___default","aria-label","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_17___default","_Header__WEBPACK_IMPORTED_MODULE_23__","onAddressChange","onConfigStringChange","className","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10___default","gutterBottom","variant","_MessageSending_SendMessage__WEBPACK_IMPORTED_MODULE_25__","multipleArguments","onPropChange","showEventName","connected","formats","onSubmit","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_12___default","control","_material_ui_core_Checkbox__WEBPACK_IMPORTED_MODULE_11___default","disabled","_AddEvent__WEBPACK_IMPORTED_MODULE_24__","_RegisteredEvents__WEBPACK_IMPORTED_MODULE_19__","events","values","_Messages__WEBPACK_IMPORTED_MODULE_18__","show","_Alert__WEBPACK_IMPORTED_MODULE_8__","nature","alertNature","open","content","alertContent","Component","variantIcon","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","backgroundColor","dark","amber","iconVariant","opacity","marginRight","spacing","unit","display","alignItems","classes","other","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","Icon","react__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_SnackbarContent__WEBPACK_IMPORTED_MODULE_11___default","classNames","aria-describedby","action","close","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_2___default","margin","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_10___default","anchorOrigin","vertical","horizontal","autoHideDuration","styles","flexGrow","search","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","borderRadius","shape","fade","common","white","&:hover","marginLeft","width","breakpoints","up","searchIcon","height","pointerEvents","justifyContent","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","inputInputQuery","paper","background","boxShadow","shadows","padding","outline","Header","configOpen","configError","preventDefault","isObject","returnParsed","undefined","alert","renderButton","react__WEBPACK_IMPORTED_MODULE_6___default","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11___default","renderStatus","_Loader__WEBPACK_IMPORTED_MODULE_23__","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_icons_CastConnected__WEBPACK_IMPORTED_MODULE_16___default","toggleConfig","handleModalClose","_this$props","autoComplete","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_9___default","_material_ui_core_FormControl__WEBPACK_IMPORTED_MODULE_21___default","_material_ui_core_InputLabel__WEBPACK_IMPORTED_MODULE_22___default","htmlFor","_material_ui_core_Select__WEBPACK_IMPORTED_MODULE_20___default","native","inputProps","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_24___default","autoFocus","input","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_10___default","title","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_12___default","_material_ui_icons_Settings__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_core_Modal__WEBPACK_IMPORTED_MODULE_19___default","aria-labelledby","style","left","transform","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_18___default","_MessageSending_ObjectMessage__WEBPACK_IMPORTED_MODULE_14__","React","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_1___default","Loader","size","AddEvent","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_7___default","required","fullWidth","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_8___default","SendMessage","isJson","JSON","parse","onMessageChange","arg","C_Users_nesber_Desktop_js_socketiotester_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","onEventChange","parseArg","parseInt","parsedArgs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","parsed","push","err","return","onArgChange","removeArg","addArgument","initialLength","onTypeChange","handleCheck","renderMultiArgument","_material_ui_core_Tabs__WEBPACK_IMPORTED_MODULE_8___default","_Utilities_RemovableTab__WEBPACK_IMPORTED_MODULE_9__","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_11___default","placement","enterDelay","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_10___default","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_12___default","isSocketIO","_SendMessageForm__WEBPACK_IMPORTED_MODULE_7__","eventNameOption","callbackOption","onTimeoutChange","originalOnevent","nativeSocketIOEvents","that","onevent","packet","io","emit","_this$events","apply","includes","_this$socket","_ref","eventNameAdaptor","connecting","reconnecting","shouldReconnect","WebSocket","addEventListener","code","originalEventName","_ref2","StringMessage","react_default","TextField_default","multiline","rows","NumberMessage","FileMessage","realInput","marginBottom","ref","files","fileName","BooleanMessage","Select_default","MenuItem_default","SendMessageForm","defaultFormats","handleTypeChange","onAddArgument","FormControlLabel_default","Checkbox_default","Tooltip_default","index_es","Info_default","marginTop","FormControl_default","formControl","InputLabel_default","FormHelperText_default","MessageSending_StringMessage","MessageSending_NumberMessage","ObjectMessage","MessageSending_FileMessage","MessageSending_BooleanMessage","Button_default","selectEmpty","Message","getType","IsJsonString","isArray","onDataCopy","el","document","stringify","setAttribute","body","appendChild","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","addRange","getStatusColor","MessageCallbackData","Typography_default","lib","objectSpread","chromeLight","TREENODE_FONT_SIZE","TREENODE_FONT_FAMILY","renderSingleArgumentMessage","renderMultipleArgumentMessage","i","IconButton_default","FileCopy_default","nextProps","_this$props$message","Card_default","CardContent_default","float","bottom","textAlign","Refresh_default","Done_default","_default","classCallCheck","possibleConstructorReturn","getPrototypeOf","scrollToBottom","messagesDiv","current","scrollTop","scrollHeight","renderRow","getMessagesSlice","window","begin","end","createRef","messagesList","clientHeight","prevProps","shouldScrollDown","lastMessage","childNodes","offsetHeight","_this3","DeleteSweep_default","listStyle","src_Message","chip","Chip_default","Event_default","onDelete","__webpack_exports__","src_Event","d","mobx__WEBPACK_IMPORTED_MODULE_0__","observable","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_1___default"],"mappings":"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","file":"static/js/main.1e3b6dc2.chunk.js","sourcesContent":["import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\n\r\nconst StyledTab = withStyles({\r\n    root: {\r\n        textTransform: 'initial',\r\n        minHeight: '50px',\r\n        minWidth:'0px'\r\n    },\r\n\r\n})(Tab);\r\n\r\nconst StyledClearIcon = withStyles({\r\n    root: {\r\n        fontSize: '20px',\r\n        position: 'absolute',\r\n        top: '20px',\r\n        right: '0px'\r\n    },\r\n\r\n})(ClearIcon);\r\n\r\n\r\n\r\nconst RemovableTab = (props) => {\r\n\r\n    const onClose = (e) => {\r\n        e.stopPropagation();\r\n        props.onClose()\r\n    }\r\n\r\n    const onClick = (e) => {\r\n        // e.stopPropagation();\r\n        props.click && props.click();\r\n    }\r\n\r\n    return (\r\n        <StyledTab\r\n            {...props}\r\n            onClick={onClick}\r\n            label={props.label}\r\n            icon={props.showIcon && <StyledClearIcon onClick={onClose}></StyledClearIcon>}\r\n        >\r\n\r\n        </StyledTab>\r\n    )\r\n}\r\n\r\nexport default RemovableTab;","import React, { Component } from 'react';\r\nimport Alert from './Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport { observer } from 'mobx-react';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport RemovableTab from './Utilities/RemovableTab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Messages from './Messages';\r\nimport RegisteredEvents from './RegisteredEvents';\r\nimport uuid from 'uuid';\r\nimport './App.scss';\r\nimport moment from 'moment';\r\nimport Header from './Header';\r\nimport AddEvent from './AddEvent'\r\nimport SendMessage from './MessageSending/SendMessage'\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport { blue, green, grey } from '@material-ui/core/colors';\r\nimport store from './global';\r\nimport { handleAlertCloseAction, createAlertAction } from './global'\r\nimport SocketIO from './websocket/SocketIO';\r\nimport NativeSocket from './websocket/NativeSocket';\r\n\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: blue,\r\n    success: green[600],\r\n    pending: grey\r\n  },\r\n});\r\n\r\n\r\n\r\nexport default observer(\r\n  class App extends Component {\r\n\r\n    constructor(props) {\r\n\r\n      super(props);\r\n\r\n      const instance0 = this.generateInstance();//Create the main instance(tab)\r\n      this.state = {\r\n        instances: [instance0],//Each instance has its own socket, messages and events. Represented by a tab.\r\n        activeInstance: instance0.id//The instance represented by the active tab.\r\n      }\r\n    }  \r\n\r\n\r\n\r\n\r\n    getActiveInstance = () => {\r\n      console.log(this.state)\r\n      return this.state.instances.filter(instance => instance.id === this.state.activeInstance)[0]\r\n    }\r\n\r\n\r\n\r\n    addInstance = () => {\r\n      const instance = this.generateInstance();\r\n      this.setState((state) => {\r\n        return {\r\n          instances: [...state.instances, instance],\r\n          activeInstance: instance.id\r\n        }\r\n      })\r\n    }\r\n\r\n    doesInstanceExist(instanceId) {//Used by async operations.\r\n      const instance = this.state.instances.filter(instance => instance.id === instanceId);\r\n      if (instance.length > 0) {\r\n        return true\r\n      }\r\n      return false;\r\n    }\r\n\r\n\r\n    generateInstance = () => {//Initial structure of an instance.\r\n\r\n      const instance = {\r\n        address: \"https://socketio-test-tool-backend.herokuapp.com/\",\r\n        id: uuid(),//The unique identifier of the instance.\r\n        socket: null,\r\n        configString: \"\",\r\n        messages: [],//All messages sent/received in this instance.\r\n        args: [//The arguments that will be sent with the message(initial single argument of type string).\r\n          {\r\n            message: \"\",\r\n            error: false,\r\n            type: 'String'\r\n          }\r\n        ],\r\n        useCallback: false,//Whether or not a \"callback\" should be used(relevant only for SocketIO).\r\n        activeArg: 0,//The active argument.\r\n        eventName: '',\r\n        connectionType: 'SocketIO',//Either \"SocketIO\" or \"native\".\r\n        registeredEvents: {},\r\n        anonymousEvents: {},//Anonymous(those that the user didn't register) events are used for intercepting all incoming events, in SocketIO\r\n        allEventsChecked: false,\r\n        connectionStatus: \"disconnected\"//Disconnected, connected, reconnecting,reconnect,\r\n      }\r\n\r\n      return instance;\r\n    }\r\n\r\n    createConfigObjectFromString = (str) => {//Evaluates the optional configuration string as JS.\r\n      if (!str)\r\n        return;\r\n\r\n      let evalResult;\r\n      eval(`evalResult = ${str}`);\r\n      return evalResult\r\n\r\n    }\r\n\r\n    onHeaderValueChange = (name, val) => {\r\n\r\n      const instanceId = this.state.activeInstance;//The connect function is relevant to the currently active instance(tab).\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      instance[name] = val;\r\n\r\n      this.setState(() => ({ instances }));\r\n\r\n    }\r\n\r\n\r\n\r\n    connect = (address, configString) => {//Fired after a certain instance(tab) wants to create the initial connection\r\n\r\n\r\n      console.log('connecting');\r\n\r\n\r\n      const instanceId = this.state.activeInstance;//The connect function is relevant to the currently active instance(tab).\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      instance.connectionStatus = 'connecting';\r\n\r\n      const parsedConfig = this.createConfigObjectFromString(configString);\r\n\r\n\r\n\r\n      if (instance.socket) {\r\n        instance.socket.disconnect();\r\n      }\r\n\r\n      // debugger;\r\n\r\n      if (instance.connectionType === 'native') {\r\n        // debugger;\r\n        var socket = instance.socket = new NativeSocket();\r\n      } else {\r\n\r\n        var socket = instance.socket = new SocketIO();\r\n      }\r\n\r\n      // debugger;\r\n      this.setState(() => ({ instances }));\r\n\r\n\r\n      // debugger;\r\n      parsedConfig ? socket.connect(address, parsedConfig) : socket.connect(address);\r\n\r\n\r\n      socket.on('connect', () => {\r\n\r\n        socket.on('message', (data) => {\r\n          // debugger;\r\n          this.addMessageToState(instanceId, 'message', [data], false)\r\n        })\r\n\r\n        const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n        console.log('connected!')\r\n\r\n        instance.connectionStatus = 'connected';\r\n        instance.address = address;\r\n\r\n        this.setState(() => ({ instances }));\r\n\r\n      });\r\n\r\n\r\n      socket.on('disconnect', (reason) => {\r\n        // debugger;\r\n        console.log('reason', reason)\r\n        if (reason === 1008) {\r\n          createAlertAction('error', 'Disconnected from the server');\r\n\r\n          const instanceId = this.getInstanceBySocketId(socket.id).id;\r\n\r\n\r\n          this.disconnectManually(instanceId);\r\n\r\n        }\r\n        // else the socket will automatically try to reconnect\r\n      });\r\n\r\n\r\n      socket.on('connecting', (error) => {\r\n        // console.log('Error connecting!', state)\r\n\r\n        const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n        instance.connectionStatus = \"connecting\";\r\n        console.log('connecting');\r\n\r\n        // store.alertOpen = false;\r\n\r\n        this.setState(() => ({ instances }));\r\n\r\n      });\r\n\r\n\r\n\r\n      socket.on('error', (error) => {\r\n\r\n        createAlertAction('error', error);\r\n\r\n      });\r\n\r\n\r\n      socket.on('reconnect', (attemptNumber) => {\r\n\r\n        const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n        instance.connectionStatus = \"connected\";\r\n        console.log('reconnected');\r\n\r\n        store.alertOpen = false;\r\n\r\n        this.setState(() => ({ instances }));\r\n\r\n      });\r\n\r\n\r\n      socket.on('reconnecting', (attemptNumber) => {\r\n        console.log('reconnecting');\r\n        // debugger;\r\n\r\n        const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n        instance.connectionStatus = \"reconnecting\";\r\n\r\n        this.setState(() => ({ instances }));\r\n\r\n      });\r\n\r\n      this.repeatEventRegistration(instance);//In case the user manually disconnected and reconnected, the events need to be re-registered.\r\n\r\n\r\n    }\r\n\r\n    onConnectSubmit = (address, config, connectionType) => {\r\n      // debugger;\r\n      if (!this.validateAddress(address, connectionType))\r\n        return createAlertAction('error', 'Invalid address')\r\n\r\n      this.connect(address, config);\r\n    }\r\n\r\n    validateAddress = (address, connectionType) => {\r\n      // debugger;\r\n      if (connectionType === 'native') {\r\n        if (!address.startsWith('ws:') && !address.startsWith('wss:'))\r\n          return false;\r\n\r\n        return true;\r\n      }\r\n      return true;\r\n    }\r\n\r\n\r\n\r\n    onDisconnectSubmit = () => {\r\n\r\n      const instanceId = this.state.activeInstance;\r\n\r\n      this.disconnectManually(instanceId);\r\n    }\r\n\r\n\r\n\r\n\r\n    onConnectionTypeChange = (connectionType) => {\r\n      console.log('type', connectionType)\r\n      const instanceId = this.state.activeInstance;//The connect function is relevant to the currently active instance(tab).\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      instance.connectionType = connectionType;\r\n\r\n      this.setState(() => ({ instances }));\r\n    }\r\n\r\n\r\n\r\n    repeatEventRegistration = (instance) => {\r\n      if (Object.keys(instance.registeredEvents).length > 0) {//PROBLEM!!!!!!!! fix it\r\n        console.log('re-registering events');\r\n        for (let event of Object.keys(instance.registeredEvents)) {\r\n          this.registerEvent(instance.id, event);\r\n        }\r\n      }\r\n\r\n      if (instance.allEventsChecked) {\r\n        this.listenToAllEvents(instance.id, true)\r\n      }\r\n    }\r\n\r\n\r\n    registerEvent = (instanceId, eventName) => {\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const socket = instance.socket;//The socket associated with this instance.\r\n\r\n      if (socket) {\r\n        this.registerEventToSocket(instanceId, socket, eventName)\r\n      }\r\n\r\n      instance.registeredEvents[eventName] = { name: eventName };//\"instance\" is not to be confused with the one from the callback scope.\r\n\r\n      this.setState(() => ({ instances }));\r\n\r\n    }\r\n\r\n    registerEventToSocket = (instanceId, socket, eventName) => {\r\n      socket.off(eventName);\r\n\r\n      socket.on(eventName, (arg1, arg2, arg3) => {\r\n        console.log('on:', eventName, arg1, arg2, arg3)\r\n        // this.addMessageToState(instanceId, eventName, args, false)\r\n      })\r\n      socket.on(eventName, (...args) => {\r\n        console.log('on:', eventName, args)\r\n        const lastArg = args[args.length - 1];\r\n        const isFunction = this.isFunction(lastArg);\r\n\r\n        if (isFunction) {\r\n          lastArg();//If a callback was supplied from the server, it is invoked.\r\n          var index = args.indexOf(lastArg);\r\n          if (index > -1) {\r\n            args.splice(index, 1);\r\n          }\r\n\r\n        }\r\n\r\n        this.addMessageToState(instanceId, eventName, args, false)\r\n      })\r\n    }\r\n\r\n\r\n    addMessageToState = (instanceId, eventName, args, owner, status) => {\r\n\r\n      const messageId = uuid();\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const time = this.getTime();\r\n      // debugger;\r\n      //*****UNDESRSTAND WHY THIS WASNT WORKING!!! */\r\n      // instance.messages.push({ id: messageId, eventName, time, data, owner, status: 'pending' })//Adding a message to the instance.\r\n      instance.messages = [...instance.messages, { id: messageId, eventName, time, args, owner, status }]\r\n\r\n      this.setState(() => ({ instances }));\r\n\r\n      return messageId;\r\n\r\n    }\r\n\r\n\r\n    getInstanceSlice = (id) => {//This function returns COPIES of both the entire instances array, and the specific instance object,\r\n      //to be used in setState by the calling function.\r\n\r\n      const instances = [...this.state.instances];//Copy the instances.\r\n\r\n      let instance;\r\n      instances.forEach((ins, index) => {\r\n        if (ins.id === id) {\r\n          instance = instances[index];//The actual instance\r\n        }\r\n      })\r\n      return { instance, instances };//Return an object containing both.\r\n    }\r\n\r\n\r\n\r\n\r\n    listenToAllEvents = (instanceId, on) => {//Will make an instance listen to every incoming socketIO message, prompting addition of the message to the\r\n      //instance.messages array.\r\n\r\n      const { instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const socket = instance.socket;\r\n\r\n\r\n      // const that = this;\r\n\r\n      if (on) {\r\n        debugger;\r\n\r\n        socket.listenToAllEvents(true, (eventName) => {//Passing a callback to be executed every time an anonymous event occurs.\r\n          this.registerAnonymousEvent(instanceId, eventName)//Registers the event\r\n        })\r\n\r\n      } else {\r\n        // debugger;\r\n        // socket.onevent = instance.originalOnevent;\r\n\r\n        socket.listenToAllEvents(false);\r\n\r\n        this.unregisterAnonymousEvents(instanceId)\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n    registerAnonymousEvent = (instanceId, eventName) => {//This registers a callback for an event coming from SocketIO's Socket.prototype.onevent function.\r\n      console.log('registering anonymous event:', eventName)\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      instance.anonymousEvents[eventName] = { name: eventName };\r\n\r\n      const socket = instance.socket;\r\n\r\n      if (socket) {\r\n\r\n        this.registerEventToSocket(instanceId, socket, eventName)\r\n\r\n      }\r\n\r\n      this.setState(() => ({ instances }));\r\n\r\n    }\r\n\r\n\r\n    unregisterAnonymousEvents = (instanceId) => {//Clear all anonymous events for the given instance.\r\n      // debugger;\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const socket = instance.socket;\r\n\r\n      for (let event in instance.anonymousEvents) {\r\n        if (!instance.registeredEvents.hasOwnProperty(event)) {\r\n          socket.off(event)\r\n        }\r\n\r\n      }\r\n      instance.anonymousEvents = {}\r\n\r\n      this.setState(() => ({ instances }));\r\n    }\r\n\r\n\r\n\r\n    onMessagesDelete = () => {//Fired when the user deletes all messages of an instance\r\n\r\n      const instanceId = this.state.activeInstance;\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      instance.messages = [];\r\n\r\n      this.setState(() => ({ instances }));\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    disconnectManually = (instanceId) => {\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const socket = instance.socket;\r\n\r\n      console.log('disconnected manually')\r\n      // debugger;\r\n      // debugger;\r\n      socket.disconnect();\r\n\r\n      instance.connectionStatus = 'disconnected';\r\n\r\n      this.setState(() => ({ instances }));\r\n    }\r\n\r\n\r\n    onMessageSubmit = (eventName, args, useCallback) => {\r\n      const instanceId = this.state.activeInstance;\r\n\r\n      const { instance } = this.getInstanceSlice(instanceId);\r\n\r\n\r\n      const socket = instance.socket;\r\n\r\n      const messageId = this.addMessageToState(instanceId, eventName, args, true, useCallback && 'pending');\r\n\r\n      const callback = useCallback ? this.createAcknowledgementHandler(instanceId, messageId) : null;\r\n\r\n      this.sendMessageToServer(socket, eventName, args, callback);\r\n    }\r\n\r\n\r\n    onMessageComponentPropChange = (newStateObj) => {\r\n      const instanceId = this.state.activeInstance;\r\n\r\n      const { instance, instances } = this.getInstanceSlice(instanceId);\r\n\r\n      for (let prop in newStateObj) {\r\n        instance[prop] = newStateObj[prop];\r\n      }\r\n      this.setState(() => ({ instances }))\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    onMessageFail = (instanceId, messageId) => {//Fired when a message fails to receive a callback after a certain period of time.\r\n      this.changeMessage(instanceId, messageId, { status: 'fail' })\r\n    }\r\n\r\n\r\n\r\n\r\n    createAcknowledgementHandler = (instanceId, messageId) => {//Creates the logic to handle the message success/failure.\r\n      // debugger;\r\n      var timeoutId = setTimeout(() => {//Timeout function that waits for the message callback.\r\n\r\n        if (this.doesInstanceExist(instanceId)) {//This condition is to make sure, the instance still exists when the callback is fired.\r\n          this.onMessageFail(instanceId, messageId);\r\n        }\r\n\r\n      }, 5000);\r\n\r\n      return (callbackData) => {\r\n        // debugger;\r\n        clearTimeout(timeoutId);//Clear the timeout, so that an error is not fired.\r\n        // debugger;\r\n        console.log('response from callback', callbackData)\r\n        // debugger;\r\n\r\n\r\n        this.changeMessage(instanceId, messageId, { status: 'success', callbackData });\r\n\r\n\r\n      }\r\n\r\n      // this.sendMessageToServer(socket, eventName, args, callback);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    sendMessageToServer = (socket, eventName, args, callback) => {//Emits the event.\r\n\r\n      if (callback) {\r\n        socket.send({ eventName, args: [...args, callback] });//\"data\" can be multiple arguments.\r\n      } else {\r\n        // debugger;\r\n        socket.send({ eventName, args: [...args] });//\"data\" can be multiple arguments.\r\n      }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    onMessageResend = (instanceId, messageId) => {//Fired when the user tries to resend a failed message.\r\n      // debugger;\r\n\r\n      this.changeMessage(instanceId, messageId, { status: 'pending' });\r\n\r\n      const { instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const message = instance.messages.filter(message => message.id === messageId)[0];\r\n\r\n      const eventName = message.eventName;\r\n\r\n      const socket = instance.socket;\r\n\r\n      const args = message.args;\r\n\r\n      const callback = this.createAcknowledgementHandler(instanceId, messageId);\r\n\r\n      this.sendMessageToServer(socket, eventName, args, callback);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    changeMessage = (instanceId, messageId, obj) => {//Function that changes properties of a message(particularly \"status\").\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      // const multipleProps = typeof prop === 'object' && Array.isArray(prop);\r\n\r\n      this.setState(() => {\r\n        const messages = instance.messages.map((message) => {\r\n          if (message.id === messageId) {\r\n\r\n            return {\r\n              ...message,\r\n              ...obj\r\n            }\r\n          } else {\r\n            return message;\r\n          }\r\n        })\r\n        instance.messages = messages;\r\n        return {\r\n          instances\r\n        }\r\n      })\r\n    }\r\n\r\n\r\n    onEventSubmit = (instance, eventName) => {//Fired when a user adds an event listener manually.\r\n      console.log(instance, eventName)\r\n      this.registerEvent(instance, eventName);\r\n    }\r\n\r\n\r\n\r\n    onEventDelete = (name) => {//Fired when a user deletes an event listener manually.\r\n\r\n      const instanceId = this.state.activeInstance;\r\n\r\n      const { instances, instance } = this.getInstanceSlice(instanceId);\r\n\r\n      const socket = instance.socket;\r\n\r\n      socket.off(name);\r\n\r\n      const oldEvents = instance.registeredEvents\r\n\r\n      delete oldEvents[name];\r\n\r\n      this.setState({\r\n        instances\r\n      })\r\n    }\r\n\r\n\r\n    getSocketByInstanceId = (instanceId) => {\r\n      const instance = this.state.instances.filter(instance => instance.id === instanceId)[0];\r\n      return instance.socket;\r\n    }\r\n\r\n    getInstanceBySocketId = (socketId) => {\r\n      const instance = this.state.instances.filter(instance => instance.socket.id === socketId)[0];\r\n      return instance;\r\n    }\r\n\r\n\r\n\r\n    handleAllEventsCheck = name => event => {//Fired when the user toggles the listen to all events checkbox on a particular instance.\r\n\r\n      const { instances, instance } = this.getInstanceSlice(this.state.activeInstance);\r\n\r\n      const checked = event.target.checked;\r\n\r\n      instance.allEventsChecked = checked;\r\n\r\n      this.setState(() => ({ instances }));\r\n\r\n      this.listenToAllEvents(instance.id, checked);\r\n    };\r\n\r\n\r\n\r\n    getTime = () => {\r\n\r\n      const unix = this.getMoment();\r\n      return moment(unix * 1000).format('HH:mm');\r\n    }\r\n\r\n\r\n\r\n    getMoment = () => {\r\n\r\n      return moment().unix();\r\n\r\n    }\r\n\r\n    isFunction = (functionToCheck) => {\r\n      return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\r\n    }\r\n\r\n\r\n\r\n    handleAlertClose = (event, reason) => {\r\n      handleAlertCloseAction(event, reason);\r\n    };\r\n\r\n\r\n    changeActiveInstance = (id) => {//Fired when user changes the tab.\r\n      // debugger;\r\n      this.setState(() => ({ activeInstance: id }))\r\n\r\n    }\r\n\r\n\r\n    createNewTab = () => {\r\n      const instance = this.generateInstance();//When user creates a new tab, an instance is created(with socket as null).\r\n      this.setState((state) => ({\r\n        instances: [...state.instances, instance]\r\n      }))\r\n\r\n      this.changeActiveInstance(instance.id);\r\n\r\n    }\r\n\r\n\r\n\r\n    destroyInstance = (id) => {//Fired when a user destroys a tab.\r\n\r\n      // e.stopPropagation();\r\n      // debugger;\r\n      console.log('destroy instance!')\r\n\r\n      const { instances, instance } = this.getInstanceSlice(id);\r\n      console.log(instance.socket);\r\n\r\n      if (instance.socket) {//Disconnect the socket if exists.\r\n        instance.socket.disconnect();\r\n      }\r\n\r\n\r\n\r\n      const tabIndex = instances.indexOf(instance);\r\n\r\n      const tabLength = instances.length;\r\n\r\n      let newIndex;\r\n\r\n      if (tabLength - tabIndex === 1) {//Decide which tab will be active after update.\r\n        newIndex = tabIndex - 1\r\n      } else {\r\n        newIndex = tabIndex\r\n      }\r\n\r\n      const newInstances = instances.filter(instance => instance.id !== id);//New instances array, without the deleted one.\r\n\r\n      const lastInstance = newInstances[newIndex];\r\n\r\n      this.setState({\r\n        activeInstance: lastInstance.id,\r\n        instances: newInstances,\r\n\r\n      });\r\n\r\n    }\r\n\r\n\r\n\r\n    getTabAddress = (instance) => {//Get the address of the current tab. Needed for communication with the Header component, which also has its own independent \"address\" state.\r\n      const address = instance.address;\r\n      const connectionStatus = instance.connectionStatus;\r\n\r\n      // debugger;\r\n      if (connectionStatus === 'connected') {\r\n\r\n        if (address.length > 14) {\r\n          return address.slice(0, 14) + '...';\r\n        } else {\r\n          return address;\r\n        }\r\n\r\n      }\r\n\r\n      else if (connectionStatus === 'disconnected') {\r\n        return 'New connection'\r\n      }\r\n      else {\r\n        return connectionStatus + '...'\r\n      }\r\n    }\r\n\r\n    onScrollToBottom = () => {\r\n      console.log('bottom!')\r\n    }\r\n\r\n    onScrollToTop = () => {\r\n      console.log('Top!')\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n      const { instance, instances } = this.getInstanceSlice(this.state.activeInstance)//Get the currently active instance.\r\n\r\n      // const { connectionStatus, allEventsChecked, registeredEvents, messages, address, configString } = instance;//Extract the props.\r\n      const { connectionStatus, allEventsChecked, connectionType, eventName, args, activeArg, useCallback, registeredEvents, address, configString } = instance;//Extract the props.\r\n\r\n      // console.log('length from app render', messages.length)\r\n      const activeInstanceId = instance.id;\r\n      console.log('activeinstanceid', activeInstanceId)\r\n\r\n      const tabIndex = instances.indexOf(instance);\r\n\r\n      const firstInstance = instances[0]\r\n\r\n      console.log('tab index', tabIndex)\r\n\r\n      return (\r\n\r\n        <MuiThemeProvider theme={theme}>\r\n        \r\n          <div id=\"wrapper\">\r\n            <AppBar color=\"default\" position=\"static\">\r\n              <Tabs indicatorColor=\"primary\" textColor=\"primary\" value={tabIndex} onChange={this.handleChange}>\r\n                {instances.map(instance =>\r\n                  <RemovableTab\r\n                    //  color=\"primary\"\r\n                    click={() => { this.changeActiveInstance(instance.id) }}\r\n                    label={this.getTabAddress(instance)}\r\n                    onClose={() => { this.destroyInstance(instance.id) }}\r\n                    showIcon={instance.id !== firstInstance.id}\r\n                  />\r\n\r\n                )}\r\n\r\n                <IconButton onClick={this.createNewTab} aria-label=\"New tab\">\r\n                  <AddIcon />\r\n                </IconButton>\r\n\r\n              </Tabs>\r\n            </AppBar>\r\n\r\n            <Header\r\n              onConnectionTypeChange={this.onConnectionTypeChange}\r\n              onAddressChange={(val) => { this.onHeaderValueChange('address', val) }}\r\n              onConfigStringChange={(val) => { this.onHeaderValueChange('configString', val) }}\r\n              key={activeInstanceId}\r\n              address={address}\r\n              connectionType={connectionType}\r\n              configString={configString}\r\n              connectionStatus={connectionStatus}\r\n              onDisconnectSubmit={this.onDisconnectSubmit}\r\n              onConnectSubmit={() => { this.onConnectSubmit(address, configString, connectionType) }}//\"address\" and \"configString\" are declared in the top of render.\r\n            >\r\n            </Header>\r\n\r\n\r\n\r\n\r\n\r\n            <div id=\"main\">\r\n              <div className=\"special_scroll\" id=\"panel\">\r\n\r\n                <div id=\"send_messages\">\r\n                  <Typography gutterBottom variant=\"h6\">Send messages</Typography>\r\n\r\n                  <SendMessage\r\n                    eventName={eventName}\r\n                    activeArg={activeArg}\r\n                    args={args}\r\n                    useCallback={useCallback}\r\n                    multipleArguments={connectionType === 'SocketIO'}\r\n                    onPropChange={this.onMessageComponentPropChange}\r\n                    showEventName={connectionType === 'SocketIO'}\r\n                    connected={connectionStatus === 'connected'}\r\n                    formats={connectionType === 'native' && [\r\n                      'String',\r\n                      'File',\r\n                      'JSON'\r\n                    ]}\r\n                    onSubmit={\r\n                      (eventName, args, useCallback) => {\r\n                        instance.connectionType === 'SocketIO' ?\r\n                          this.onMessageSubmit(eventName, args, useCallback) :\r\n                          this.onMessageSubmit('message', [args[0]])\r\n                      }\r\n                    }>\r\n                  </SendMessage>\r\n\r\n                </div>\r\n                {connectionType === 'SocketIO' && <div id=\"events\">\r\n                  <Typography gutterBottom variant=\"h6\">Register events</Typography>\r\n\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        disabled={connectionStatus !== 'connected'}\r\n                        checked={allEventsChecked}\r\n                        onChange={this.handleAllEventsCheck('allEventsChecked')}\r\n                        value=\"allEventsChecked\"\r\n                        color=\"primary\"\r\n                      />\r\n                    }\r\n\r\n                    label=\"Listen to all incoming events\"\r\n                  />\r\n\r\n                  <AddEvent connected={connectionStatus === 'connected'} onSubmit={(eventName) => { this.onEventSubmit(activeInstanceId, eventName) }}></AddEvent>\r\n                  {Object.keys(registeredEvents).length > 0 && (\r\n\r\n                    <div id=\"registered_events\" >\r\n                      <RegisteredEvents onEventDelete={this.onEventDelete} events={Object.values(registeredEvents)}></RegisteredEvents>\r\n                    </div>\r\n\r\n                  )}\r\n                </div>}\r\n\r\n              </div>\r\n\r\n\r\n              {/*Rendering all instances into the DOM and showing only one of them, for performance reasons(avoiding re-rendering of all Message components,\r\n                 when the active instance changes). \r\n              */}\r\n              {this.state.instances.map((instance) => {\r\n                return <Messages\r\n                  key={instance.id}\r\n                  onScrollToTop={this.onScrollToTop}\r\n                  onScrollToBottom={this.onScrollToBottom}\r\n                  show={activeInstanceId === instance.id ? true : false}//Tell the component if it should be visible in the DOM\r\n                  onMessagesDelete={this.onMessagesDelete}\r\n                  onMessageResend={(messageId) => { this.onMessageResend(instance.id, messageId) }}\r\n                  instanceId={instance.id}\r\n                  messages={instance.messages} />\r\n\r\n              })}\r\n\r\n            </div>\r\n\r\n          </div>\r\n          <Alert nature={store.alertNature} handleAlertClose={this.handleAlertClose} open={store.alertOpen} content={store.alertContent} />\r\n\r\n        </MuiThemeProvider>\r\n\r\n\r\n      );\r\n    }\r\n  }\r\n)\r\n\r\n\r\n\r\n// createMockMessages = (num) => {\r\n\r\n//   const messages = []\r\n//   for (let i = 0; i < num; i++) {\r\n//     messages.push({\r\n//       id: uuid(),\r\n//       owner: true,\r\n//       time: this.getTime(),\r\n//       eventName: this.state.activeInstance,\r\n//       args: [i + 1]\r\n\r\n//     })\r\n//   }\r\n//   const { instances, instance } = this.getInstanceSlice(this.state.activeInstance);\r\n//   instance.messages = messages;\r\n//   this.setState(() => ({ instances }))\r\n\r\n// }","import React from 'react';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\n// import Button from '@material-ui/core/Button';\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\n// import green from '@material-ui/core/colors/green';\r\nimport amber from '@material-ui/core/colors/amber';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nconst variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    info: InfoIcon,\r\n};\r\n\r\nconst styles1 = theme => ({\r\n    success: {\r\n        backgroundColor: theme.palette.success,\r\n    },\r\n    error: {\r\n        backgroundColor: theme.palette.error.dark,\r\n    },\r\n    info: {\r\n        backgroundColor: theme.palette.primary.dark,\r\n    },\r\n    warning: {\r\n        backgroundColor: amber[700],\r\n    },\r\n    icon: {\r\n        fontSize: 20,\r\n    },\r\n    iconVariant: {\r\n        opacity: 0.9,\r\n        marginRight: theme.spacing.unit,\r\n    },\r\n    message: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n});\r\n\r\nconst styles2 = theme => ({\r\n    margin: {\r\n        margin: theme.spacing.unit,\r\n    },\r\n});\r\n\r\nfunction MySnackbarContent(props) {\r\n    const { classes, className, message, onClose, variant, ...other } = props;\r\n    const Icon = variantIcon[variant];\r\n\r\n    return (\r\n        <SnackbarContent\r\n            className={classNames(classes[variant], className)}\r\n            aria-describedby=\"client-snackbar\"\r\n            message={\r\n                <span id=\"client-snackbar\" className={classes.message}>\r\n                    <Icon className={classNames(classes.icon, classes.iconVariant)} />\r\n                    {message}\r\n                </span>\r\n            }\r\n            action={[\r\n                <IconButton\r\n                    key=\"close\"\r\n                    aria-label=\"Close\"\r\n                    color=\"inherit\"\r\n                    className={classes.close}\r\n                    onClick={onClose}\r\n                >\r\n                    <CloseIcon className={classes.icon} />\r\n                </IconButton>,\r\n            ]}\r\n            {...other}\r\n        />\r\n    );\r\n}\r\n\r\nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);\r\n\r\n\r\n\r\nconst Alert = (props) => {\r\n\r\n    // const { classes } = this.props;\r\n    // console.log('alert rendering');\r\n\r\n    const handleAlertClose = (event,reason) => {\r\n        props.handleAlertClose(event,reason);\r\n    }\r\n\r\n    return (\r\n        <Snackbar\r\n            anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'left',\r\n            }}\r\n            open={props.open}\r\n            autoHideDuration={4000}\r\n            onClose={handleAlertClose}\r\n        >\r\n            <MySnackbarContentWrapper\r\n                onClose={handleAlertClose}\r\n                variant={props.nature || 'info'}\r\n                message={<span id=\"message-id\">{props.content}</span>}\r\n            />\r\n        </Snackbar>\r\n\r\n    )\r\n}\r\n\r\nexport default withStyles(styles2)(Alert);\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n// import TextField from '@material-ui/core/TextField';\r\nimport ObjectMessage from './MessageSending/ObjectMessage';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport CastConnectedIcon from '@material-ui/icons/CastConnected';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n// import NativeSelect from '@material-ui/core/NativeSelect';\r\n\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\n\r\nimport Loader from './Loader'\r\n\r\n\r\nimport InputBase from '@material-ui/core/InputBase';\r\n\r\n\r\nconst styles = theme => (\r\n    {\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n\r\n        search: {\r\n            position: 'relative',\r\n            borderRadius: theme.shape.borderRadius,\r\n            backgroundColor: fade(theme.palette.common.white, 0.15),\r\n            '&:hover': {\r\n                backgroundColor: fade(theme.palette.common.white, 0.25),\r\n            },\r\n            marginRight: theme.spacing.unit * 2,\r\n            marginLeft: 0,\r\n            width: '100%',\r\n            [theme.breakpoints.up('sm')]: {\r\n                marginLeft: theme.spacing.unit * 3,\r\n                width: 'auto',\r\n            },\r\n        },\r\n        \r\n        searchIcon: {\r\n            width: theme.spacing.unit * 9,\r\n            height: '100%',\r\n            position: 'absolute',\r\n            pointerEvents: 'none',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n        },\r\n        inputRoot: {\r\n            color: 'inherit',\r\n            width: '100%',\r\n        },\r\n        inputInput: {\r\n\r\n            paddingTop: theme.spacing.unit,\r\n            paddingRight: theme.spacing.unit,\r\n            paddingBottom: theme.spacing.unit,\r\n            paddingLeft: theme.spacing.unit * 10,\r\n            transition: theme.transitions.create('width'),\r\n            width: '100%',           \r\n            [theme.breakpoints.up('md')]: {\r\n                width: 200,\r\n            },\r\n        },\r\n        inputInputQuery: {\r\n\r\n\r\n            paddingTop: theme.spacing.unit,\r\n            paddingRight: theme.spacing.unit,\r\n            paddingBottom: theme.spacing.unit,\r\n            paddingLeft: theme.spacing.unit,\r\n            transition: theme.transitions.create('width'),\r\n            width: '100%',\r\n            [theme.breakpoints.up('md')]: {\r\n                width: 200,\r\n            },\r\n        },\r\n        paper: {\r\n            position: 'absolute',\r\n            width: theme.spacing.unit * 50,\r\n            backgroundColor: theme.palette.background.paper,\r\n            boxShadow: theme.shadows[5],\r\n            padding: theme.spacing.unit * 4,\r\n            outline: 'none',\r\n        }\r\n    }\r\n);\r\n\r\nclass Header extends React.Component {\r\n\r\n    state = {\r\n        address: \"localhost:3001\",\r\n        configOpen: false,\r\n        configString: \"\",\r\n        configError: false\r\n    }\r\n\r\n    onChange = (e) => {\r\n        // const name = e.target.name;\r\n        const value = e.target.value;\r\n        // this.setState({\r\n        //     [name]: value\r\n        // })\r\n        this.props.onAddressChange(value);\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        switch (this.props.connectionStatus) {\r\n            case 'connected':\r\n            case 'reconnecting':\r\n            case 'connecting':\r\n                this.onDisconnectSubmit();\r\n\r\n                break;\r\n            case 'disconnected':\r\n                this.onConnectSubmit();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    isObject = (value, returnParsed = false) => {//Returns the parsed object on success, false on failure.\r\n        // debugger;\r\n        let evalResult;\r\n        try {\r\n            eval(`evalResult = ${value}`) // if it doesn't throw it's a valid array or object\r\n            if (typeof evalResult === 'object') {\r\n                return returnParsed ? evalResult : true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    onConnectSubmit = (e) => {\r\n\r\n        // let config;\r\n        let value = this.props.configString;\r\n        if (value !== \"\") {\r\n            const isObject = this.isObject(value);\r\n            // console.log('options', config)\r\n            if (!isObject) {\r\n                return alert('Invalid configuration object!');\r\n            }\r\n            // value = parsedObject;\r\n        }\r\n\r\n        // e.preventDefault();\r\n        // alert(this.state.address)\r\n        this.props.onConnectSubmit(this.state.address, value ? value : null);\r\n    }\r\n\r\n    onDisconnectSubmit = (e) => {\r\n        // e.preventDefault();\r\n        // alert(this.state.address)\r\n        this.props.onDisconnectSubmit();\r\n    }\r\n\r\n    renderButton = () => {\r\n        switch (this.props.connectionStatus) {\r\n            case 'connected':\r\n                return <Button type=\"submit\" color=\"inherit\">Disconnect</Button>;\r\n            case 'reconnecting':\r\n            case 'connecting':\r\n                return <Button type=\"submit\" color=\"inherit\">Cancel</Button>;\r\n            case 'disconnected':\r\n                return <Button type=\"submit\" color=\"inherit\">Connect</Button>;\r\n            // case 'connecting':\r\n            //     return <Typography color=\"inherit\" variant=\"subtitle1\" >Connecting...</Typography>;\r\n            // default:\r\n\r\n        }\r\n\r\n    }\r\n\r\n    renderStatus = () => {\r\n        switch (this.props.connectionStatus) {\r\n\r\n            case 'reconnecting':\r\n            case 'connecting':\r\n                return <Loader></Loader>;\r\n            case 'disconnected':\r\n                return <SearchIcon></SearchIcon>;\r\n            case 'connected':\r\n                return <CastConnectedIcon></CastConnectedIcon>;\r\n            default:\r\n                return '';\r\n\r\n        }\r\n    }\r\n\r\n    toggleConfig = () => {\r\n        this.setState({ configOpen: !this.state.configOpen })\r\n    }\r\n\r\n    onConfigStringChange = (configString) => {\r\n        console.log(configString);\r\n        const isObject = this.isObject(configString);\r\n        this.setState({ configError: !isObject })\r\n        this.props.onConfigStringChange(configString);\r\n    }\r\n\r\n\r\n    handleModalClose = () => {\r\n        this.setState((state) => {\r\n            return { configOpen: !state.configOpen }\r\n        })\r\n    }\r\n\r\n    onConnectionTypeChange = name => event => {\r\n        // debugger;\r\n        this.props.onConnectionTypeChange(event.target.value)\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n\r\n        const { classes, address, configString, connectionStatus, connectionType } = this.props;\r\n\r\n        let disabled;\r\n\r\n        if (connectionStatus === 'connected' || connectionStatus === 'connecting' || connectionStatus === 'reconnecting') {\r\n            disabled = true;\r\n        } else {\r\n            disabled = false;\r\n        }\r\n\r\n\r\n        return (\r\n            <form autoComplete=\"off\" onSubmit={this.onSubmit} className={classes.root}>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <FormControl >\r\n                            <InputLabel htmlFor=\"age-native-simple\">Connection type</InputLabel>\r\n                            <Select\r\n                                disabled={disabled}\r\n                                native\r\n                                value={connectionType}\r\n                                onChange={this.onConnectionTypeChange('type')}\r\n                                inputProps={{\r\n                                    name: 'connectionType',\r\n                                    id: 'connection_type',\r\n                                }}\r\n                            >\r\n\r\n                                <option value={'SocketIO'}>SocketIO</option>\r\n                                <option value={'native'}>Native socket</option>\r\n\r\n                            </Select>\r\n                        </FormControl>\r\n                        <div className={classes.search}>\r\n                            <div className={classes.searchIcon}>\r\n                                {this.renderStatus()}\r\n\r\n                            </div>\r\n                            <InputBase\r\n                                disabled={disabled}\r\n                                name=\"address\"\r\n                                value={address}\r\n                                \r\n                                autoFocus\r\n                                // autoComplete={'on'}\r\n                                onChange={this.onChange}\r\n                                // placeholder=\"localhost:3001\"\r\n                                classes={{\r\n                                    root: classes.inputRoot,\r\n                                    input: classes.inputInput,\r\n                                    \r\n                                }}\r\n                            />\r\n\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <Tooltip title=\"Add configuration\">\r\n\r\n                            <IconButton\r\n                                disabled={disabled}\r\n                                key=\"close\"\r\n                                aria-label=\"Close\"\r\n                                color=\"inherit\"\r\n                                // className={classes.close}\r\n                                onClick={this.handleModalClose}\r\n                            >\r\n                                <SettingsIcon />\r\n                            </IconButton>\r\n                        </Tooltip>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <Modal\r\n                            // style={getModalStyle()}\r\n                            // className={classes.paper}\r\n                            aria-labelledby=\"simple-modal-title\"\r\n                            aria-describedby=\"simple-modal-description\"\r\n                            open={this.state.configOpen}\r\n                            onClose={this.handleModalClose}\r\n                        >\r\n                            <div style={{ top: '50%', left: '50%', transform: `translate(-${50}%, -${50}%)` }} className={classes.paper}>\r\n                                <Typography variant=\"h5\">Provide a configuration object to the socket. The string will be evaluated into a JS object</Typography>\r\n                                <ObjectMessage value={configString} error={this.state.configError} onChange={this.onConfigStringChange}></ObjectMessage>\r\n                                <Button onClick={this.handleModalClose} color=\"primary\">Confirm</Button>\r\n                            </div>\r\n\r\n                        </Modal>\r\n\r\n\r\n\r\n\r\n\r\n                        {this.renderButton()}\r\n\r\n                    </Toolbar>\r\n\r\n                </AppBar>\r\n\r\n            </form>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default withStyles(styles)(Header);","import React from 'react';\r\n// import { withStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\n\r\n\r\nfunction Loader(props) {\r\n//   const { classes } = props;\r\n  return (\r\n    <div>\r\n     \r\n      <CircularProgress size={21}  color=\"inherit\" />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Loader;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default class AddEvent extends React.Component {\r\n    state = {\r\n        event: \"\"\r\n    }\r\n\r\n    onChange = (e) => {\r\n        const name = e.target.name;\r\n        const value = e.target.value;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        // alert(this.state.address)\r\n        this.props.onSubmit(this.state.event);\r\n    }\r\n\r\n   \r\n    render() {\r\n        return (\r\n            <form onSubmit={this.onSubmit} >\r\n                    \r\n                <TextField                  \r\n                    label=\"Event name\"\r\n                    required               \r\n                    onChange={this.onChange} value={this.state.event} \r\n                    type=\"text\"\r\n                    fullWidth\r\n                    name=\"event\"                \r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                />\r\n                <Button disabled={!this.props.connected} type=\"submit\" variant=\"contained\" color=\"primary\" >\r\n                    Register\r\n                </Button>\r\n            </form>\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport SendMessageForm from './SendMessageForm';\r\n// import uuid from 'uuid';\r\nimport Tabs from '@material-ui/core/Tabs';\r\n// import Button from '@material-ui/core/Button';\r\nimport RemovableTab from '../Utilities/RemovableTab';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\n\r\nexport default class SendMessage extends React.Component {\r\n\r\n    // state = {\r\n    //     eventName: \"yoyo\",\r\n    //     activeArg: 0,\r\n    //     // timeout:5000,\r\n    //     useCallback: false,\r\n    //     args: [\r\n    //         {\r\n    //             message: \"\",\r\n    //             type: 'String',\r\n    //             error: false\r\n    //         },\r\n    //         // {\r\n    //         //     message: \"second message\",\r\n    //         //     type: 'String',\r\n    //         //     error: false\r\n    //         // }\r\n    //     ]\r\n    // }\r\n\r\n    \r\n\r\n    isObject = (value) => {//Returns the parsed object on success, false on failure.\r\n        // debugger;\r\n        let evalResult;\r\n        try {\r\n            eval(`evalResult = ${value}`) // if it doesn't throw it's a valid array or object\r\n            if (typeof evalResult === 'object') {\r\n                return evalResult;\r\n            } else {\r\n                return false;\r\n            }\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    isJson = (str) => {//Returns the parsed object on success, false on failure.\r\n        // debugger;\r\n\r\n        try {\r\n            var obj = JSON.parse(str);\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    // prepareFile = (fileObject)=>{\r\n\r\n    // }\r\n\r\n    onMessageChange = (arg, message) => {\r\n        // debugger;\r\n        const args = [...this.props.args];\r\n\r\n        const index = args.indexOf(arg);\r\n\r\n\r\n\r\n        let error = false;\r\n        if (arg.type === 'Object') {\r\n            const parsedMessage = this.isObject(message);\r\n            if (!parsedMessage) {\r\n                error = true;\r\n            }\r\n        }\r\n\r\n        // else if (arg.type === 'File') {\r\n        //     message = this.prepareFile(message);\r\n        // }\r\n\r\n        else if (arg.type === 'JSON') {\r\n            const parsedMessage = this.isJson(message);\r\n            if (!parsedMessage) {\r\n                error = true;\r\n            }\r\n        }\r\n        args[index].message = message;\r\n        args[index].error = error;\r\n\r\n        // this.props.onArgsChange = (args);\r\n        this.props.onPropChange({args})\r\n        \r\n    }\r\n\r\n    onEventChange = (eventName) => {\r\n\r\n\r\n        this.props.onPropChange ({eventName})\r\n        // this.setState({ eventName })\r\n    }\r\n\r\n\r\n\r\n    parseArg = (arg) => {\r\n\r\n        switch (arg.type) {\r\n            case 'Number':\r\n                return parseInt(arg.message)\r\n            // break;\r\n            case 'Object':\r\n                // debugger;\r\n                let evalResult;\r\n                eval(`evalResult = ${arg.message}`);\r\n                return evalResult;\r\n            default:\r\n                break;\r\n        }\r\n        return arg.message;\r\n\r\n    }\r\n\r\n    onSubmit = () => {\r\n        // debugger;\r\n        let parsedArgs = [];\r\n\r\n        const args = [...this.props.args];\r\n        for (let arg of args) {\r\n            const parsed = this.parseArg(arg);//Parse the message(with mutation, no new array).\r\n            parsedArgs.push(parsed);//Push the parsed property.\r\n        }\r\n\r\n        \r\n\r\n        this.props.onSubmit(this.props.eventName, parsedArgs, this.props.useCallback);\r\n    }\r\n\r\n\r\n    onArgChange = (e, value) => {\r\n        // debugger;\r\n        const arg = value;\r\n        this.props.onPropChange({activeArg:arg})\r\n        // this.setState({ activeArg: arg })\r\n    }\r\n\r\n    removeArg = (arg) => {\r\n        // debugger;\r\n        const args = [...this.props.args];\r\n        const index = args.indexOf(arg);\r\n\r\n        args.splice(index, 1);\r\n        // this.setState(() => ({\r\n        //     args,\r\n        //     activeArg: args.length - 1\r\n        // }))\r\n\r\n        this.props.onPropChange({args,activeArg:args.length - 1})\r\n\r\n    }\r\n\r\n    addArgument = () => {\r\n\r\n        const args = [...this.props.args];\r\n\r\n        const initialLength = args.length;\r\n            args.push({\r\n                message: \"\",\r\n                type: 'String',\r\n                error: false\r\n            })\r\n        this.props.onPropChange({args,activeArg:initialLength});    \r\n        // this.setState((state) => {\r\n        //     const args = [...state.args];\r\n        //     // debugger;\r\n        //     const initialLength = args.length;\r\n        //     args.push({\r\n        //         message: \"\",\r\n        //         type: 'String',\r\n        //         error: false\r\n        //     })\r\n\r\n        //     return {\r\n        //         args,\r\n        //         activeArg: initialLength\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    onTypeChange = (arg, type) => {\r\n        const args = [...this.props.args];\r\n\r\n        const index = args.indexOf(arg);\r\n        args[index].type = type\r\n        args[index].message = \"\"\r\n        args[index].error = false;\r\n        this.props.onPropChange({args})\r\n        // this.setState((state) => {\r\n        //     return {\r\n        //         args\r\n        //     }\r\n        // })\r\n    }\r\n\r\n    // onTimeoutChange = (val)=>{\r\n    //     this.setState({timeout:val})\r\n    // }\r\n\r\n    handleCheck = (checked) => {\r\n        this.props.onPropChange({useCallback:checked})\r\n        // this.setState({ useCallback: checked });\r\n    }\r\n\r\n    // renderSingleTab = () => {\r\n    //     return <RemovableTab onClose={() => { return }} showIcon={false} name={0} label={`Argument ${1}`}></RemovableTab>\r\n    // }\r\n\r\n    renderMultiArgument = () => {\r\n\r\n        return <Tabs\r\n            value={this.props.activeArg}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={this.onArgChange}\r\n        >\r\n            {this.props.args.map((arg, index) => {\r\n                return <RemovableTab onClose={() => { this.removeArg(arg) }} showIcon={this.props.args.length > 1} key={index} name={index} label={`Argument ${index + 1}`}></RemovableTab>\r\n            })}\r\n            <Tooltip placement=\"right\" enterDelay={350} title=\"Add an argument\">\r\n                <IconButton onClick={this.addArgument} aria-label=\"New tab\">\r\n                    <AddIcon />\r\n                </IconButton>\r\n            </Tooltip>\r\n\r\n        </Tabs>\r\n\r\n    }\r\n\r\n    // renderSingleArgument = ()=>{\r\n    //     return <RemovableTab onClose={() => { }} showIcon={false}  name={0} label={`Argument ${1}`}></RemovableTab>\r\n    // }\r\n\r\n    render() {\r\n        const activeArg = this.props.args[this.props.activeArg]\r\n        // debugger;\r\n        const { message, error, type } = activeArg;\r\n        const isSocketIO = this.props.multipleArguments;\r\n        // debugger\r\n        return (<div>\r\n\r\n\r\n\r\n            {this.props.multipleArguments && this.renderMultiArgument() }\r\n\r\n            <SendMessageForm\r\n                message={message}\r\n                type={type}\r\n                useCallback={this.props.useCallback}\r\n                error={error}\r\n                formats={this.props.formats}\r\n                eventNameOption={isSocketIO}\r\n                callbackOption = {isSocketIO}\r\n                // timeout={this.state.timeout}\r\n                // onAddArgument={this.addArgument}\r\n                onSubmit={() => { this.onSubmit(activeArg) }}\r\n                onMessageChange={(message) => { this.onMessageChange(activeArg, message) }}\r\n                onTypeChange={(type) => { this.onTypeChange(activeArg, type) }}\r\n                onEventChange={this.onEventChange}\r\n                onTimeoutChange={this.onTimeoutChange}\r\n                handleCheck={this.handleCheck}\r\n                eventName={this.props.eventName}\r\n                connected={this.props.connected}></SendMessageForm>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\r\nimport io from 'socket.io-client';\r\n\r\nclass SocketIO {\r\n    socket = null;\r\n    originalOnevent=null;\r\n    nativeSocketIOEvents = ['connect', 'reconnect', 'reconnecting', 'disconnect','error', 'connect_error']//The \"native\" socketIO events will be handled \r\n    //differently in the \"on\" method.\r\n\r\n    events = {}//A dictionary of events.\r\n\r\n    connect(address, config) {\r\n        const socket = io(address, config);\r\n        this.socket = socket;\r\n        this.originalOnevent = socket.onevent;\r\n\r\n        socket.on('connect', () => {\r\n             this.emit('connect') \r\n        })\r\n\r\n\r\n        socket.on('disconnect', (reason) => {\r\n            // debugger;\r\n            if (this.events.disconnect) {\r\n                if (reason === 'io server disconnect') {\r\n                   this.emit('disconnect',1008) \r\n                } else if (reason === 'transport close') {\r\n                  this.emit('disconnect',1006)  \r\n                }\r\n            }\r\n\r\n\r\n        })\r\n\r\n\r\n        socket.on('connecting', () => {\r\n            this.emit('connecting')  \r\n        })\r\n\r\n        socket.on('reconnecting', () => {\r\n            this.emit('reconnecting') \r\n        })\r\n\r\n        socket.on('reconnect', () => {\r\n            this.emit('reconnect')  \r\n        })\r\n\r\n        socket.on('connect_error', () => {\r\n             this.emit('error','Error connecting to the server');\r\n        })\r\n\r\n        socket.on('error', (error) => {\r\n            if(typeof error === 'object'){\r\n                this.emit('error','An error occurred')  \r\n            }else{\r\n               this.emit('error',error)\r\n            }\r\n            \r\n        })\r\n        return socket;\r\n        // this.originalOnevent = socket.onevent;\r\n        // return socket;\r\n\r\n    }\r\n\r\n    emit(eventName,...args){//Function that emits an event to the consumer module.\r\n        if(this.events[eventName])\r\n            this.events[eventName](...args);\r\n    }\r\n\r\n    off(eventName) {//Turns off an event listener.\r\n        this.socket.off(eventName);\r\n    }\r\n\r\n    disconnect() {\r\n       this.socket && this.socket.disconnect();\r\n    }\r\n\r\n    on(event, callback) {//This is the \"on\" function that is exposed to the consumer. It's not the native \"on\"!\r\n        //  this.socket.on(event,callback);\r\n        if(this.nativeSocketIOEvents.includes(event)){//If it's a native socketIO event, like \"connect\", interception is used.\r\n           this.events[event] = callback;  \r\n        }else{//If it's a custom user event, it's registered to socketIO.\r\n            this.socket.on(event,callback);\r\n        }\r\n       \r\n    }\r\n\r\n\r\n    send({eventName,args}) {//Sends a message\r\n        //  debugger;\r\n        console.log(args)\r\n\r\n        this.socket.emit(eventName,...args);\r\n    }\r\n\r\n    listenToAllEvents = (on, callback) => {//Will make an instance listen to every incoming socketIO message, prompting addition of the message to the\r\n        // debugger;\r\n        const that = this;\r\n\r\n        if (on) {\r\n\r\n            this.socket.onevent = function (packet) {//This intercepts the original onevent function, which gets fired on every incoming event.\r\n                const eventName = packet.data[0];//Extracts the event name.  \r\n\r\n                callback(eventName)//Registers the event\r\n\r\n                that.originalOnevent.call(this, packet);//Calls the original onevent function, for normal application flow. The reference was created after\r\n                //socket initialization.\r\n\r\n            };\r\n\r\n        } else {\r\n            // debugger;\r\n            this.socket.onevent = this.originalOnevent;\r\n\r\n            //   that.unregisterAnonymousEvents(instanceId)\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default SocketIO;","\r\n\r\nclass NativeSocket {\r\n    socket = null;\r\n\r\n    address = null\r\n\r\n    eventNameAdaptor = {\r\n        connect: 'open',\r\n        disconnect: 'close',\r\n        message: 'message',\r\n        error: 'error',\r\n        connecting: 'connecting',\r\n        reconnecting: 'reconnecting'\r\n    }\r\n\r\n    events = {}\r\n\r\n\r\n    connect(address, config) {\r\n        // debugger;\r\n        this.shouldReconnect = true;\r\n        if (this.socket) {\r\n            // debugger;\r\n            this.emit('reconnecting');\r\n        } else {\r\n            this.emit('connecting');\r\n        }\r\n\r\n        const socket = new WebSocket(address, config)\r\n\r\n        this.address = address;\r\n\r\n        this.socket = socket;\r\n\r\n        socket.addEventListener('open', () => {\r\n            this.emit('open');\r\n        })\r\n\r\n        socket.addEventListener('error', (event) => {\r\n\r\n\r\n            this.emit('error', 'An error occurred');\r\n        })\r\n\r\n        socket.addEventListener('close', (e) => {\r\n            // console.log('close code', e.code)\r\n            // console.log('close reason', e.reason)\r\n            // console.log('readystate', this.socket.readyState)\r\n\r\n            if (e.code != 1000 && this.shouldReconnect == true) {\r\n                this.connect(address)\r\n            }\r\n        })\r\n\r\n        socket.addEventListener('message', ({ data }) => {\r\n            this.emit('message', data)\r\n        })\r\n        return socket;\r\n\r\n\r\n\r\n    }\r\n\r\n \r\n\r\n    disconnect() {\r\n        // debugger;\r\n        this.shouldReconnect = false;\r\n        this.socket && this.socket.close();\r\n\r\n    }\r\n\r\n    on(originalEventName, callback) {\r\n        //  debugger;\r\n        if (this.eventNameAdaptor.hasOwnProperty(originalEventName)) {\r\n            this.events[this.eventNameAdaptor[originalEventName]] = callback;\r\n        }\r\n        //  this.socket.addEventListener(adaptedEventName,callback);\r\n\r\n\r\n    }\r\n\r\n    emit(eventName, ...args) {//Function that emits an event to the consumer module.\r\n        if (this.events[eventName])\r\n            this.events[eventName](...args);\r\n    }\r\n\r\n\r\n    send({args}) {\r\n        //  debugger;\r\n        console.log(args)\r\n\r\n        this.socket.send(args[0]);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default NativeSocket;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nconst StringMessage = (props) => {\r\n    \r\n    return (\r\n        <TextField\r\n            // id=\"outlined-password-input\"\r\n            label=\"Message\"\r\n          \r\n            \r\n            multiline\r\n            rows={10}\r\n            // className={classes.textField}\r\n            onChange={(e)=>{props.onChange(e.target.value)}} value={props.value}\r\n            type=\"text\"\r\n            fullWidth\r\n            name=\"message\"\r\n\r\n            // autoComplete=\"current-password\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n        />\r\n    )\r\n}\r\n\r\nexport default StringMessage;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nconst NumberMessage = (props) => {\r\n\r\n    \r\n\r\n    return (\r\n        <TextField\r\n            // id=\"outlined-password-input\"\r\n            label=\"Message\"\r\n            required\r\n            // className={classes.textField}\r\n            onChange={(e)=>{props.onChange(e.target.value)}} value={props.value}\r\n            type=\"number\"\r\n            fullWidth\r\n            name=\"message\"\r\n            // autoComplete=\"current-password\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n        />\r\n    )\r\n}\r\n\r\nexport default NumberMessage;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nconst FileMessage = (props) => {\r\n    let realInput = null;\r\n    // debugger;\r\n    const onFileChange = (e) => {\r\n        // debugger;\r\n        if (e.target.files.length == 0) {\r\n            return\r\n        }\r\n        props.onChange(e.target.files[0])\r\n    }\r\n\r\n    const onClick = (e) => {\r\n        e.target.value = null\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginBottom: '10px' }}>\r\n            <input\r\n                style={{display:'none'}}\r\n                ref={(input) => { realInput = input; }}\r\n                // accept=\"image/*\"\r\n                // className={classes.input}\r\n                id=\"raised-button-file\"                \r\n                type=\"file\"\r\n                // value=\"chuj\"\r\n                onChange={onFileChange}\r\n                onClick={onClick}\r\n            />\r\n            <input type=\"button\" value=\"Select file\" onClick={()=>{realInput.click()}} />{props.fileName}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default FileMessage;","import React from 'react';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nconst BooleanMessage = (props) => {\r\n    console.log('props.value',props.value)\r\n    return (\r\n       <div>\r\n            <Select\r\n                // open={this.state.open}\r\n                // onClose={this.handleClose}\r\n                // onOpen={this.handleOpen}\r\n                \r\n                onChange={(e)=>{\r\n                    // debugger;\r\n                    props.onChange(e.target.value)\r\n                }}\r\n                value={props.value}\r\n    \r\n                // inputProps={{\r\n                //   name: 'age',\r\n                //   id: 'demo-controlled-open-select',\r\n                // }}\r\n              >\r\n               \r\n                <MenuItem value={true}>True</MenuItem>\r\n                <MenuItem value={false}>False</MenuItem>\r\n               \r\n              </Select>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default BooleanMessage;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\nimport Select from '@material-ui/core/Select';\r\nimport StringMessage from './StringMessage';\r\nimport NumberMessage from './NumberMessage';\r\nimport FileMessage from './FileMessage';\r\nimport BooleanMessage from './BooleanMessage';\r\nimport ObjectMessage from './ObjectMessage';\r\nimport { Typography } from '@material-ui/core';\r\nimport { formatMs } from '@material-ui/core/styles/transitions';\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n    // root: {\r\n    //     display: 'flex',\r\n    //     flexWrap: 'wrap',\r\n    // },\r\n    formControl: {\r\n        margin: theme.spacing.unit,\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing.unit * 2,\r\n    },\r\n});\r\n\r\n\r\nclass SendMessageForm extends React.Component {\r\n\r\n    defaultFormats = ['File', 'String', 'Number', 'JSON', 'Boolean', 'Object'];\r\n\r\n    onEventChange = (e) => {\r\n\r\n        const event = e.target.value;\r\n        // debugger;\r\n        // this.setState({ event })\r\n        this.props.onEventChange(event);\r\n    }\r\n\r\n    onMessageChange = (message) => {\r\n\r\n        this.props.onMessageChange(message);\r\n    }\r\n\r\n\r\n    onSubmit = (e) => {\r\n        // debugger;\r\n        e.preventDefault();\r\n\r\n        this.props.onSubmit();\r\n    }\r\n\r\n    handleTypeChange = (e) => {\r\n        // debugger;\r\n        this.props.onTypeChange(e.target.value)\r\n    }\r\n\r\n    handleCheck = name => event => {\r\n        this.props.handleCheck(event.target.checked);\r\n    };\r\n\r\n    // onTimeoutChange = (e)=>{\r\n    //     const val = e.target.value;\r\n    //     this.props.onTimeoutChange(val);\r\n    // }\r\n    addArgument = () => this.props.onAddArgument();\r\n\r\n\r\n    render() {\r\n\r\n        const { classes } = this.props;\r\n        // debugger;\r\n        if (this.props.formats) {\r\n\r\n            var formats= this.props.formats;\r\n            // debugger;\r\n        } else {\r\n            var formats = this.defaultFormats\r\n        }\r\n\r\n\r\n\r\n\r\n        return (\r\n            <form className={classes.root} onSubmit={this.onSubmit} autoComplete=\"off\">\r\n                {this.props.callbackOption && <div style={{ display: 'inline-flex', width: '100%' }}>\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                checked={this.props.useCallback}\r\n                                onChange={this.handleCheck('checkedA')}\r\n                                value=\"checkedA\"\r\n                                color=\"primary\"\r\n                            />\r\n\r\n                        }\r\n                        label=\"Wait for callback\"\r\n                    >\r\n\r\n                    </FormControlLabel>\r\n                    {/*<TextField\r\n                    style={{maxWidth:'100px',height:'30px'}}\r\n                    // id=\"outlined-password-input\"\r\n                    label=\"Milliseconds\"\r\n                    required\r\n                    disabled={!this.props.useCallback}\r\n                    // className={classes.textField}\r\n                    onChange={this.onTimeoutChange} value={2000}\r\n                    type=\"number\"\r\n                    fullWidth\r\n                    name=\"message\"\r\n                    value={this.props.timeout}\r\n                    // autoComplete=\"current-password\"\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                   />*/}\r\n                    <Tooltip enterDelay={350} placement=\"right\" title={<Typography style={{ color: 'white' }}>\r\n                        Will send a callback function with every message, as the last parameter.\r\n                        If this callback isn't invoked after 5 seconds, the message's status will change to 'fail', allowing you to resend it.\r\n                        If the callback is called with some data, it will be presented in the message. Make sure your server is set to handle this.\r\n                </Typography>}>\r\n                        <InfoIcon style={{ marginTop: '10px' }} color=\"default\"></InfoIcon>\r\n                    </Tooltip>\r\n\r\n                </div>}\r\n\r\n                {this.props.eventNameOption && <TextField\r\n                    // id=\"outlined-password-input\"\r\n                    label=\"Event name\"\r\n                    required\r\n                    // autoComplete={\"on\"}\r\n                    // className={classes.textField}\r\n                    onChange={this.onEventChange} value={this.props.eventName}\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    name=\"event\"\r\n\r\n                    // autoComplete=\"current-password\"\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                />}\r\n\r\n                <FormControl className={classes.formControl}>\r\n                    <InputLabel htmlFor=\"age-simple\">Format</InputLabel>\r\n                    <Select\r\n                        value={this.props.type}\r\n                        onChange={this.handleTypeChange}\r\n                        inputProps={{\r\n                            name: 'age',\r\n                            id: 'age-simple',\r\n                        }}\r\n                    >\r\n\r\n                        {formats.map((format) => {\r\n                            return <MenuItem value={format}>{format}</MenuItem>\r\n                        })}\r\n\r\n\r\n\r\n\r\n                    </Select>\r\n                    <FormHelperText>Select message type</FormHelperText>\r\n                </FormControl>\r\n                {this.props.type === 'String' && <StringMessage onChange={this.onMessageChange} value={this.props.message} />}\r\n\r\n                {this.props.type === 'Number' && <NumberMessage onChange={this.onMessageChange} value={this.props.message} />}\r\n                {this.props.type === 'Object' && <ObjectMessage error={this.props.error} onChange={this.onMessageChange} value={this.props.message} />}\r\n                {this.props.type === 'JSON' && <ObjectMessage JSON error={this.props.error} onChange={this.onMessageChange} value={this.props.message} />}\r\n                {this.props.type === 'File' && <FileMessage onChange={this.onMessageChange} fileName={this.props.message.name} />}\r\n                {this.props.type === 'Boolean' && <BooleanMessage onChange={this.onMessageChange} value={typeof this.props.message === 'boolean' ? this.props.message : true} />}\r\n\r\n                <Button disabled={!this.props.connected || this.props.error} type=\"submit\" variant=\"contained\" color=\"primary\" >\r\n                    Send\r\n              </Button>\r\n            </form>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(SendMessageForm);\r\n","import React from 'react';\r\n\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CopyIcon from '@material-ui/icons/FileCopy';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\n\r\nimport { ObjectInspector } from 'react-inspector'\r\nimport { chromeLight } from 'react-inspector'\r\nimport { createAlertAction } from './global';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nclass Message extends React.Component {\r\n\r\n    getType = (message) => {\r\n        // debugger;\r\n        switch (typeof message) {\r\n            case 'string':\r\n                // debugger;\r\n                if (parseInt(message)) {\r\n                    return 'String';\r\n                }\r\n                if (this.IsJsonString(message))\r\n                    return 'JSON';\r\n\r\n                return 'String'\r\n\r\n            case 'object':\r\n                if (Array.isArray(message)) {\r\n                    return 'Array';\r\n                }\r\n                else {\r\n                    return 'Object';\r\n                }\r\n            case 'number':\r\n                return 'Number';\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    IsJsonString = (str) => {\r\n        try {\r\n            JSON.parse(str);\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n    onDataCopy = (str) => {\r\n        const el = document.createElement('textarea');  // Create a <textarea> element\r\n        if (typeof str === 'object') {\r\n            try {\r\n                str = JSON.stringify(str);\r\n            } catch (error) {\r\n\r\n                return createAlertAction('error', 'Unable to copy');\r\n            }\r\n\r\n        }\r\n        el.value = str;                                 // Set its value to the string that you want copied\r\n        el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\r\n        el.style.position = 'absolute';\r\n        el.style.left = '-9999px';                      // Move outside the screen to make it invisible\r\n        document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\r\n        const selected =\r\n            document.getSelection().rangeCount > 0        // Check if there is any content selected previously\r\n                ? document.getSelection().getRangeAt(0)     // Store selection if found\r\n                : false;                                    // Mark as false to know no selection existed before\r\n        el.select();                                    // Select the <textarea> content\r\n        document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\r\n        document.body.removeChild(el);                  // Remove the <textarea> element\r\n        if (selected) {                                 // If a selection existed before copying\r\n            document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\r\n            document.getSelection().addRange(selected);   // Restore the original selection\r\n        }\r\n\r\n        createAlertAction('success', 'Copied to clipboard!');\r\n\r\n    }\r\n\r\n    getStatusColor = (status) => {\r\n        switch (status) {\r\n            case 'pending':\r\n                return 'grey'\r\n\r\n            case 'success':\r\n                return 'green'\r\n            case 'fail':\r\n                return 'red'\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    onMessageResend = (id) => {\r\n        this.props.onMessageResend(id);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps) {//To prevent unnecessary rendering, due to the new props.onMessageResend object.\r\n\r\n        if (this.props.message !== nextProps.message) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    MessageCallbackData = (data) => {\r\n        return (\r\n            <div >\r\n                <br />\r\n                <Typography>\r\n                    Data from callback:\r\n                         <ObjectInspector theme={{ ...chromeLight, ...({ TREENODE_FONT_SIZE: '18px', TREENODE_FONT_FAMILY: 'roboto,helvetica,arial' }) }} data={data} />\r\n                </Typography>\r\n\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    renderSingleArgumentMessage = (arg) => {\r\n        return <div>\r\n            <Typography color=\"textSecondary\" gutterBottom>\r\n                Type: {this.getType(arg)}\r\n            </Typography>\r\n            <ObjectInspector theme={{ ...chromeLight, ...({ TREENODE_FONT_SIZE: '18px', TREENODE_FONT_FAMILY: 'roboto,helvetica,arial' }) }} data={arg} />\r\n\r\n        </div>\r\n    }\r\n\r\n    renderMultipleArgumentMessage = (args) => {\r\n        return args.map((arg, index) => {\r\n            const i = index + 1;\r\n            return <div>\r\n                <Typography>Argument {i}</Typography>\r\n                <Typography color=\"textSecondary\" gutterBottom>\r\n                    Type: {this.getType(arg)}\r\n                </Typography>\r\n                <ObjectInspector theme={{ ...chromeLight, ...({ TREENODE_FONT_SIZE: '18px', TREENODE_FONT_FAMILY: 'roboto,helvetica,arial' }) }} data={arg} />\r\n                <Tooltip title=\"Copy to clipboard\">\r\n                    <IconButton onClick={() => { this.onDataCopy(arg) }} ><CopyIcon fontSize=\"small\"></CopyIcon></IconButton>\r\n                </Tooltip>\r\n\r\n                {i !== args.length && <br />}\r\n            </div>\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    // handleHover = () => {\r\n    //     this.setState({ CopyButtonShown: !this.state.CopyButtonShown })\r\n    // }\r\n\r\n\r\n    render() {\r\n        const { owner, args, id, time, status, eventName, callbackData } = this.props.message;\r\n        console.log('item rendering!', this.props)\r\n\r\n        return (\r\n\r\n\r\n\r\n            <Card >\r\n                <CardContent style={{ padding: '15px' }}>\r\n                    <Typography style={{ float: 'right' }} color=\"textSecondary\" gutterBottom>\r\n                        {time}\r\n                    </Typography>\r\n\r\n                    <Typography color=\"primary\" gutterBottom>\r\n                        {owner ? 'Sent' : 'Received'} event: {eventName}\r\n                    </Typography>\r\n                    {args.length === 1 ? this.renderSingleArgumentMessage(args[0]) : this.renderMultipleArgumentMessage(args)}\r\n\r\n\r\n                    <div style={{ float: 'right', position: 'relative', left: '6px', bottom: '49px' }} >\r\n                        {args.length === 1 && <Tooltip title=\"Copy to clipboard\">\r\n                            <IconButton onClick={() => { this.onDataCopy(args) }} ><CopyIcon fontSize=\"small\"></CopyIcon></IconButton>\r\n                        </Tooltip>}\r\n\r\n                        {status && owner && (\r\n\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                {status === 'fail' ? (\r\n                                    <Tooltip title=\"Resend message\">\r\n                                        <IconButton style={{ padding: '2px' }} onClick={() => { this.onMessageResend(id) }} aria-label=\"Resend message\">\r\n                                            <RefreshIcon style={{ color: 'red' }} />\r\n                                        </IconButton>\r\n                                    </Tooltip>\r\n                                ) : (\r\n                                        <DoneIcon style={{ color: this.getStatusColor(status) }}></DoneIcon>\r\n                                    )\r\n                                }\r\n\r\n                            </div>\r\n\r\n\r\n\r\n\r\n                        )}\r\n\r\n                    </div>\r\n                    {callbackData && this.MessageCallbackData(callbackData)}\r\n                </CardContent>\r\n\r\n\r\n\r\n            </Card>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n// export default withStyles(styles)(Message);\r\nexport default Message;\r\n\r\n\r\n// export default Message;\r\n\r\n","import React from 'react';\r\nimport Message from './Message';\r\n// import { List } from \"react-virtualized\";\r\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\n\r\nexport default class extends React.Component {\r\n\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.messagesDiv = React.createRef()\r\n       \r\n\r\n\r\n        this.messagesList = React.createRef()\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.messagesDiv.current.addEventListener('scroll',()=>{\r\n            if(this.messagesDiv.current.clientHeight+ this.messagesDiv.current.scrollTop >= this.messagesDiv.current.scrollHeight){\r\n                this.props.onScrollToBottom();\r\n            }else if( this.messagesDiv.current.scrollTop === 0){\r\n                this.props.onScrollToTop();\r\n            }\r\n            // console.log('scrolltop',this.messagesDiv.current.scrollTop,'scrollheight',  this.messagesDiv.current.scrollHeight,'clientheight',this.messagesDiv.current.clientHeight)\r\n        })\r\n    }\r\n\r\n    \r\n    componentDidUpdate(prevProps) {\r\n\r\n       \r\n\r\n\r\n        if (this.props.instanceId !== prevProps.instanceId)\r\n            return this.scrollToBottom();\r\n\r\n        if (this.props.messages.length > 0 && prevProps.messages.length !== this.props.messages.length) {\r\n            if (this.shouldScrollDown(this.props.messages[this.props.messages.length - 1])) {\r\n                this.scrollToBottom();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    shouldScrollDown(lastMessage) {\r\n        // debugger;\r\n\r\n        if (lastMessage.owner) {\r\n            return true;\r\n        } else if (this.messagesList.current.childNodes.length > 1) {//Check if there is more than one item first.\r\n\r\n            const scrollHeight = this.messagesDiv.current.scrollHeight;\r\n\r\n            const clientHeight = this.messagesDiv.current.clientHeight;\r\n\r\n            const scrollTop = this.messagesDiv.current.scrollTop;\r\n\r\n            \r\n\r\n            const lastItemHeight = this.messagesList.current.childNodes[this.messagesList.current.childNodes.length - 1].offsetHeight\r\n\r\n            const oneBeforeLastItemHeight = this.messagesList.current.childNodes[this.messagesList.current.childNodes.length - 2].offsetHeight\r\n\r\n            if (clientHeight + scrollTop + lastItemHeight + oneBeforeLastItemHeight >= scrollHeight) {\r\n                return true\r\n\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    scrollToBottom = () => {\r\n\r\n        this.messagesDiv.current.scrollTop = this.messagesDiv.current.scrollHeight;\r\n\r\n    }\r\n\r\n    // scrollToMessage = window.scroll = (id) => {\r\n    //     const div = document.getElementById(`${id}`);\r\n    //     div.scrollIntoView({ behavior: \"smooth\" });\r\n    // }\r\n\r\n    renderRow = ({ index, key, style }) => {\r\n        return\r\n    }\r\n\r\n    onMessagesDelete = () => {\r\n        this.props.onMessagesDelete();\r\n    }\r\n\r\n    getMessagesSlice = window.getMessagesSlice = (begin, end) => {\r\n      \r\n      const messages = this.props.messages.slice(begin, end);\r\n      // console.log(messages)\r\n      return messages;\r\n    }\r\n\r\n\r\n\r\n    // console.log(window.copy)\r\n    render() {\r\n\r\n        \r\n\r\n\r\n        return (\r\n\r\n\r\n\r\n\r\n            <div ref={this.messagesDiv} style={{display:this.props.show ? 'block': 'none'}}  className=\"special_scroll\" id=\"messages\">\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                    Messages sent/received        \r\n                </Typography>\r\n                {this.props.messages.length > 0 && (\r\n                    <div style={{ float: 'right' }}>\r\n\r\n                        <Tooltip title=\"Delete all messages\">\r\n                            <IconButton onClick={this.onMessagesDelete} aria-label=\"Delete\">\r\n                                <DeleteSweepIcon fontSize=\"small\" color=\"secondary\"></DeleteSweepIcon>\r\n                            </IconButton>\r\n                        </Tooltip>\r\n                    </div>\r\n                )}\r\n                <ul ref={this.messagesList} id=\"messages_list\" style={{ listStyle: 'none', paddingLeft: '0' }}>\r\n\r\n\r\n\r\n\r\n                    {this.props.messages.map((message, index) => <li key={message.id} style={{ display: 'block', width: '100%', float: 'left', marginBottom: '15px', marginTop: '15px' }}><div\r\n                        style={{\r\n                            // display: 'inline-block',\r\n                            float: message.owner ? 'left' : 'right',\r\n                            width: '40%'\r\n\r\n                        }}>\r\n                        <Message onMessageResend={this.props.onMessageResend} message={message} >\r\n                        </Message>\r\n                    </div>\r\n                    </li>)}\r\n\r\n                </ul>\r\n            </div>\r\n\r\n\r\n\r\n        )\r\n    }\r\n\r\n\r\n}","import React from 'react';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport EventIcon from '@material-ui/icons/Event';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\n\r\nconst styles = theme => ({\r\n   \r\n    chip: {\r\n    //   fontSize:'10px'\r\n    },\r\n  });\r\n\r\nconst Event = (props) => {\r\n    const { classes } = props;\r\n    // console.log('event rendering!')\r\n    return (\r\n        <Chip\r\n            label={props.name}\r\n          \r\n            className={classes.chip}\r\n            color=\"primary\"\r\n            icon={<EventIcon/>}\r\n            onDelete={props.onDelete}\r\n            variant=\"outlined\"\r\n        />\r\n    )\r\n}\r\n\r\nexport default withStyles(styles)(Event);\r\n","import React from 'react';\r\nimport Event from './Event';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\n\r\nconst styles={\r\n    marginBottom:'10px',\r\n    marginTop:'10px'\r\n}\r\n\r\nexport default (props) => {\r\n    console.log('events from props',props.events)\r\n    return(\r\n        <div >\r\n        <Typography variant=\"subtitle1\" gutterBottom>\r\n        Listening to events:\r\n      </Typography>\r\n            {props.events.map(event=><div style={styles}><Event onDelete={()=>{props.onEventDelete(event.name)}} name={event.name}></Event></div>)}\r\n        </div>\r\n     \r\n    )\r\n\r\n}","import {observable} from 'mobx';\r\n\r\n\r\n\r\nconst schema = {\r\n    alertOpen: false,\r\n    alertNature:'error',\r\n    alertContent: '',        \r\n}\r\n\r\nconst state = observable(schema);\r\n\r\nexport default window.state = state;\r\n\r\n\r\n\r\nexport const handleAlertCloseAction = (event, reason) => {\r\n  \r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n    state.alertOpen=false;\r\n  }; \r\n\r\nexport const createAlertAction = (nature,message)=>{\r\n  Object.assign(state,{\r\n    alertOpen:true,\r\n    alertNature:nature,\r\n    alertContent:message\r\n  })\r\n}  \r\n\r\n\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// import './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n// import 'codemirror/lib/codemirror.css';\r\n// import 'codemirror/theme/material.css';\r\n// import 'codemirror/mode/javascript/javascript'\r\n// import { Controlled as CodeMirror } from 'react-codemirror2'\r\n\r\nconst ObjectMessage = (props) => {\r\n\r\n    // return (\r\n    //     <div>\r\n    //         <CodeMirror\r\n    //             value={props.value}\r\n    //             options={{ mode: { name: 'javascript', json: true } }}\r\n    //             onBeforeChange={(editor, data, value) => {\r\n    //                 props.onChange(value)\r\n    //             }}\r\n                \r\n    //         />\r\n    //     </div>\r\n    // )\r\n\r\n\r\n    return (\r\n        <TextField\r\n            // id=\"outlined-password-input\"\r\n            label={props.JSON ? \"JSON message\" : \"Object message\"}\r\n            required\r\n            error={props.error}\r\n            multiline\r\n            rows={10}\r\n            // className={classes.textField}\r\n            onChange={(e)=>{props.onChange(e.target.value)}} value={props.value}\r\n            type=\"text\"\r\n            fullWidth\r\n            name=\"message\"\r\n\r\n            // autoComplete=\"current-password\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n        />\r\n    )\r\n}\r\n\r\nexport default ObjectMessage;"],"sourceRoot":""}